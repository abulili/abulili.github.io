<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>nu∞-记录</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="nu∞-记录">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="nu∞-记录">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="桉念">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="nu∞-记录" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">nu∞-记录</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-pj1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/pj1/" class="article-date">
  <time class="dt-published" datetime="2023-10-19T12:42:55.000Z" itemprop="datePublished">2023-10-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/pj1/">项目面试1</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="基于vue2和nodejs的⾳乐系统"><a href="#基于vue2和nodejs的⾳乐系统" class="headerlink" title="基于vue2和nodejs的⾳乐系统"></a>基于vue2和nodejs的⾳乐系统</h3><h4 id="BFC"><a href="#BFC" class="headerlink" title="BFC"></a>BFC</h4><p>使用的fixed，块级格式上下文，规定内部区域元素不会影响到外部区域，最重要的是内部box垂直放置，浮动元素参与计算，垂直距离margin塌陷（clearfix），</p>
<p><strong>如何创建BFC？</strong>(在某些情况下，特定的CSS属性值会使元素自动创建BFC)</p>
<ul>
<li>根元素，即HTML元素 (每当浏览器遇到一个HTML文档时，它会自动创建一个BFC，这个BFC包含了整个HTML文档的内容)</li>
<li>float的值不为none</li>
<li>position为absolute或fixed</li>
<li>display的值为inline-block (指定对象为内联块元素)、table-cell (指定对象作为表格单元个,类似td)、table-caption (指定对象作为表格标题。类同于html标签caption)</li>
<li>overflow的值不为visible</li>
</ul>
<p><strong>BFC的使用场景</strong></p>
<ul>
<li>去除边距重叠现象</li>
<li>清除浮动（让父元素的高度包含子浮动元素）</li>
<li>避免某元素被浮动元素覆盖</li>
<li>避免多列布局由于宽度计算四舍五入而自动换行</li>
</ul>
<h4 id="session"><a href="#session" class="headerlink" title="session"></a>session</h4><p>express-session模块</p>
<p>提一嘴使用v-if和v-show（css）</p>
<h4 id="nextTick"><a href="#nextTick" class="headerlink" title="nextTick"></a>nextTick</h4><p>解决了异步渲染获取不到更新后DOM的问题了</p>
<p>我也有简单了解<code>nextTick</code>实现，它会在<code>callbacks</code>里面加入我们传入的函数，然后用<code>timerFunc</code>异步方式调用它们，首选的异步方式会是<code>Promise</code>。这让我明白了为什么可以在<code>nextTick</code>中看到<code>dom</code>操作结果。</p>
<h4 id="对数据竖着"><a href="#对数据竖着" class="headerlink" title="对数据竖着"></a>对数据竖着</h4><p>ceil取条数，slice进行分割</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-row :gutter=<span class="string">&quot;20&quot;</span> v-<span class="keyword">for</span>=<span class="string">&quot;(row, rowIndex) in Math.ceil(MusicList.length / 4)&quot;</span> :key=<span class="string">&quot;rowIndex&quot;</span>&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">el-col</span> <span class="attr">:span</span>=<span class="string">&quot;6&quot;</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, colIndex) in MusicList.slice(rowIndex * 4, (rowIndex + 1) * 4)&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                   <span class="attr">:key</span>=<span class="string">&quot;colIndex&quot;</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p><strong>还有时间提一嘴如何进行监听去更新音乐播放器进度条</strong></p>
<p>setTimeout，setinterval每个两秒重算</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">audio</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;timeupdate&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> duration = <span class="variable language_">this</span>.<span class="property">audio</span>.<span class="property">duration</span>;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> currentTime = <span class="variable language_">this</span>.<span class="property">audio</span>.<span class="property">currentTime</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">current</span> = currentTime</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;当前播放时间:&#x27;</span>, currentTime)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">percentage</span> = (currentTime / duration) * <span class="number">100</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">percentage</span> = <span class="variable language_">this</span>.<span class="property">percentage</span>.<span class="title function_">toFixed</span>(<span class="number">0</span>)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;播放进度百分比:&#x27;</span>, <span class="variable language_">this</span>.<span class="property">percentage</span>)</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="基于微信⼩程序的在线论坛"><a href="#基于微信⼩程序的在线论坛" class="headerlink" title="基于微信⼩程序的在线论坛"></a>基于微信⼩程序的在线论坛</h3><h4 id="节流"><a href="#节流" class="headerlink" title="节流"></a>节流</h4><p><code>节流</code>：（时间内）事件触发后，规定时间内，事件处理函数不能再次被调用。也就是说<u>在规定的时间内，函数只能被调用最先被触发的那次，直到这波过了</u>。所以适用于函数被<strong>频繁调用</strong>的场景。</p>
<p><code>防抖</code>： 只有过了设定的时间&amp;&amp;没在设定时间内操作后，才会执行</p>
<h4 id="全局"><a href="#全局" class="headerlink" title="全局"></a>全局</h4><p>说一下和vuex很像</p>
<p>vuex:数据存储中心。Vuex其实就是一个状态管理工具，所谓的状态，就是数据，通过这个工具进行管理某些数据。当多个组件都需要同一个数据时，可以将这个数据交给Vuex进行统一的管理.</p>
<ul>
<li><p>state:vuex的基本数据，用来存储变量，存放的数据是响应式的。</p>
</li>
<li><p>mutations:提交更改数据，同步更新状态。</p>
</li>
<li><p>actions:提交mutations，可异步操作。</p>
</li>
<li><p>getters：是store的计算属性。</p>
</li>
<li><p>modules:模块，每个模块里面有四个属性。</p>
</li>
</ul>
<h4 id="async-x2F-await"><a href="#async-x2F-await" class="headerlink" title="async&#x2F;await"></a>async&#x2F;await</h4><p>async 函数返回一个 Promise 对象，当函数执行的时候，一旦遇到 await 就会先返回，等到触发的异步操作完成，再执行函数体内后面的语句。可以理解为，是让出了线程，跳出了 async 函数体。</p>
<p><strong>自执行</strong>的generate函数。利用generate函数的特性把异步的代码写成“同步”的形式,第一个请求的返回值作为后面一个请求的参数,其中每一个参数都是一个promise对象.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/pj1/" data-id="clnx755oc0000rgu25nf390t6" data-title="项目面试1" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-vue3.2后台管理心得" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/vue3.2%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E5%BF%83%E5%BE%97/" class="article-date">
  <time class="dt-published" datetime="2023-09-05T09:18:16.000Z" itemprop="datePublished">2023-09-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/vue3.2%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E5%BF%83%E5%BE%97/">树的中/后序遍历（简易）</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>思维导图说不清楚的放在这里</p>
<p>vue-cli: 基于插件的架构，所以依赖名：<code>@vue/cli-plugin-</code> 开头</p>
<p>插件可以修改 webpack 的内部配置，也可以向 <code>vue-cli-service</code> 注入命令</p>
<p>以vue-cli-service访问</p>
<p>不是每个应用都需要是一个单页应用。Vue CLI 支持使用 <a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/config/#pages"><code>vue.config.js</code> 中的 <code>pages</code> 选项</a>构建一个多页面的应用。构建好的应用将会在不同的入口之间高效共享通用的 chunk 以获得最佳的加载性能。</p>
<p>静态资源可以通过两种方式进行处理：</p>
<ul>
<li>在 JavaScript 被导入或在 template&#x2F;CSS 中通过相对路径被引用。这类引用会被 webpack 处理。</li>
<li>放置在 <code>public</code> 目录下或通过绝对路径被引用。这类资源将会直接被拷贝，而不会经过 webpack 的处理。</li>
</ul>
<p>当你在 JavaScript、CSS 或 <code>*.vue</code> 文件中使用相对路径 (必须以 <code>.</code> 开头) 引用一个静态资源时，该资源将会被包含进入 webpack 的依赖图中。在其编译过程中，所有诸如 <code>&lt;img src=&quot;...&quot;&gt;</code>、<code>background: url(...)</code> 和 CSS <code>@import</code> 的资源 URL <strong>都会被解析为一个模块依赖</strong>。</p>
<p>例如，<code>url(./image.png)</code> 会被翻译为 <code>require(&#39;./image.png&#39;)</code>，而：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;./image.png&quot;&gt;</span><br></pre></td></tr></table></figure>

<p>将会被编译到：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">h(&#x27;img&#x27;, &#123; attrs: &#123; src: require(&#x27;./image.png&#x27;) &#125;&#125;)</span><br></pre></td></tr></table></figure>

<p>在其内部，我们通过 webpack 的 <a target="_blank" rel="noopener" href="https://webpack.js.org/guides/asset-modules/">Assets Modules</a> 配置，用版本哈希值和正确的公共基础路径来决定最终的文件路径，并将小于 8KiB 的资源内联，以减少 HTTP 请求的数量。</p>
<p>你可以通过 <a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/config/#chainwebpack">chainWebpack</a> 调整内联文件的大小限制。例如，下列代码会将内联图片资源限制设置为 4KiB：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// vue.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  chainWebpack: config =&gt; &#123;</span><br><span class="line">    config.module</span><br><span class="line">      .rule(&#x27;images&#x27;)</span><br><span class="line">        .set(&#x27;parser&#x27;, &#123;</span><br><span class="line">          dataUrlCondition: &#123;</span><br><span class="line">            maxSize: 4 * 1024 // 4KiB</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="URL-转换规则"><a href="#URL-转换规则" class="headerlink" title="URL 转换规则 #"></a>URL 转换规则 <a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/guide/html-and-static-assets.html#url-%E8%BD%AC%E6%8D%A2%E8%A7%84%E5%88%99">#</a></h3><ul>
<li><p>如果 URL 是一个绝对路径 (例如 <code>/images/foo.png</code>)，它将会被保留不变。</p>
</li>
<li><p>如果 URL 以 <code>.</code> 开头，它会作为一个相对模块请求被解释且基于你的文件系统中的目录结构进行解析。</p>
</li>
<li><p>如果 URL 以 <code>~</code> 开头，其后的任何内容都会作为一个模块请求被解析。这意味着你甚至可以引用 Node 模块中的资源：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;~some-npm-package/foo.png&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果 URL 以 <code>@</code> 开头，它也会作为一个模块请求被解析。它的用处在于 Vue CLI 默认会设置一个指向 <code>&lt;projectRoot&gt;/src</code> 的别名 <code>@</code>。**(仅作用于模版中)**</p>
</li>
</ul>
<p>任何放置在 <code>public</code> 文件夹的静态资源都会被简单的复制，而不经过 webpack。你需要通过绝对路径来引用它们。</p>
<p>注意我们推荐将资源作为你的模块依赖图的一部分导入，这样它们会通过 webpack 的处理并获得如下好处：</p>
<ul>
<li>脚本和样式表会被压缩且打包在一起，从而避免额外的网络请求。</li>
<li>文件丢失会直接在编译时报错，而不是到了用户端才产生 404 错误。</li>
<li>最终生成的文件名包含了内容哈希，因此你不必担心浏览器会缓存它们的老版本。</li>
</ul>
<p><code>public</code> 目录提供的是一个<strong>应急手段</strong>，当你通过绝对路径引用它时，留意应用将会部署到哪里。如果你的应用没有部署在域名的根部，那么你需要为你的 URL 配置 <a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/config/#publicpath">publicPath</a> </p>
<p>在模板中，你首先需要向你的组件传入基础 URL：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data () &#123;</span><br><span class="line">  return &#123;</span><br><span class="line">    publicPath: process.env.BASE_URL</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img :src=&quot;`$&#123;publicPath&#125;my-image.png`&quot;&gt;</span><br></pre></td></tr></table></figure>

<h3 id="何时使用-public-文件夹"><a href="#何时使用-public-文件夹" class="headerlink" title="何时使用 public 文件夹 #"></a>何时使用 <code>public</code> 文件夹 <a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/guide/html-and-static-assets.html#%E4%BD%95%E6%97%B6%E4%BD%BF%E7%94%A8-public-%E6%96%87%E4%BB%B6%E5%A4%B9">#</a></h3><ul>
<li>你需要在构建输出中指定一个文件的名字。</li>
<li>你有上千个图片，需要动态引用它们的路径。</li>
<li>有些库可能和 webpack 不兼容，这时你除了将其用一个独立的 <code>&lt;script&gt;</code> 标签引入没有别的选择。</li>
</ul>
<p>非必要不用public文件夹</p>
<p>调整 webpack 配置最简单的方式就是在 <code>vue.config.js</code> 中的 <code>configureWebpack</code> 选项提供一个对象：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// vue.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  configureWebpack: &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">      new MyAwesomeWebpackPlugin()</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>该对象将会被 <a target="_blank" rel="noopener" href="https://github.com/survivejs/webpack-merge">webpack-merge</a> 合并入最终的 webpack 配置。</p>
<p>警告</p>
<p>有些 webpack 选项是基于 <code>vue.config.js</code> 中的值设置的，所以不能直接修改。例如你应该修改 <code>vue.config.js</code> 中的 <code>outputDir</code> 选项而不是修改 <code>output.path</code>；你应该修改 <code>vue.config.js</code> 中的 <code>publicPath</code> 选项而不是修改 <code>output.publicPath</code>。这样做是因为 <code>vue.config.js</code> 中的值会被用在配置里的多个地方，以确保所有的部分都能正常工作在一起。</p>
<p>如果你需要基于环境有条件地配置行为，或者想要直接修改配置，那就换成一个函数 (该函数会在环境变量被设置之后懒执行)。该方法的第一个参数会收到已经解析好的配置。在函数内，你可以直接修改配置，或者返回一个将会被合并的对象：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// vue.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  configureWebpack: config =&gt; &#123;</span><br><span class="line">    if (process.env.NODE_ENV === &#x27;production&#x27;) &#123;</span><br><span class="line">      // 为生产环境修改配置...</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      // 为开发环境修改配置...</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Vue CLI 内部的 webpack 配置是通过 <a target="_blank" rel="noopener" href="https://github.com/mozilla-neutrino/webpack-chain">webpack-chain</a> 维护的。这个库提供了一个 webpack 原始配置的上层抽象，使其可以定义具名的 loader 规则和具名插件，并有机会在后期进入这些规则并对它们的选项进行修改。</p>
<p>你可以通过传递 <code>--mode</code> 选项参数为命令行覆写默认的模式。例如，如果你想要在构建命令中使用开发环境变量：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue-cli-service build --mode development</span><br></pre></td></tr></table></figure>

<p>—官方文档</p>
<hr>
<p><code>package.json</code> 文件里的 <code>browserslist</code> 字段 (或一个单独的 <code>.browserslistrc</code> 文件)，指定了项目的目标浏览器的范围。这个值会被 <a target="_blank" rel="noopener" href="https://new.babeljs.io/docs/en/next/babel-preset-env.html">@babel&#x2F;preset-env</a> 和 <a target="_blank" rel="noopener" href="https://github.com/postcss/autoprefixer">Autoprefixer</a> 用来确定需要转译的 JavaScript 特性和需要添加的 CSS 浏览器前缀。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;config&quot;: &#123;</span><br><span class="line">    &quot;commitizen&quot;: &#123;</span><br><span class="line">      &quot;path&quot;: &quot;node_modules/cz-customizable&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p>commitizen” 配置项用于指定使用的 Commitizen 工具的路径。Commitizen 是一个用于规范化提交信息的工具，它有助于生成符合规范的 Git 提交消息，使项目的提交历史更加清晰和易于理解。具体来说：</p>
<p>&#x2F;&#x2F; “path” 指定了 Commitizen 工具的路径，这里指定为 “node_modules&#x2F;cz-customizable”。这表示项目将使用 cz-customizable 包中的 Commitizen 工具。</p>
<p> 可以使用 <code>git cz</code> 命令来生成规范化的提交消息，然后按照提示填写相应的信息。</p>
<hr>
<p><code>service.interceptors.response.use</code> 是 Axios 中的一个拦截器（interceptor）用于在发送网络请求后，在接收响应之前对响应数据进行处理。这是一个非常有用的功能，可用于全局或局部地处理响应数据，例如处理错误、添加通用的处理逻辑等。</p>
<p>具体来说，<code>service.interceptors.response.use</code> 通常用于以下目的：</p>
<ol>
<li><strong>处理成功的响应数据：</strong>您可以在这个拦截器中处理成功的响应数据，例如提取有用的数据或进行某些后续操作。如果您的网络请求成功，那么这个拦截器将接收到服务器返回的响应数据。</li>
<li><strong>处理错误响应：</strong>您可以在这个拦截器中处理请求失败或服务器返回的错误。这包括处理 HTTP 错误状态码（如 404、500 等）或应用程序定义的错误（例如，如果服务器返回一个错误的 JSON 格式或特定错误消息）。</li>
<li><strong>对响应进行通用处理：</strong>您可以在这里执行一些通用的处理，例如显示通知、记录请求和响应等。这可以用于全局错误处理或应用程序级别的通用逻辑。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">service.interceptors.response.use(</span><br><span class="line">  // 第一个参数处理成功响应</span><br><span class="line">  function (response) &#123;</span><br><span class="line">    // 处理成功的响应逻辑</span><br><span class="line">    return response;</span><br><span class="line">  &#125;,</span><br><span class="line">  // 第二个参数处理错误响应</span><br><span class="line">  function (error) &#123;</span><br><span class="line">    // 处理错误响应逻辑</span><br><span class="line">    return Promise.reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<hr>
<p><code>service.interceptors.request.use</code> 是 Axios 中用于添加请求拦截器的方法，它允许您在发送请求之前对请求进行修改或添加自定义逻辑。让我详细解释它的意义：</p>
<ol>
<li><code>service</code>: 这是一个之前通过 <code>axios.create(&#123;&#125;)</code> 创建的 Axios 实例，它代表了一个可以用于发起网络请求的对象。</li>
<li><code>interceptors</code>: Axios 拥有请求拦截器和响应拦截器，这里使用的是请求拦截器。拦截器允许您在请求发送或响应返回时执行一些操作。</li>
<li><code>request.use(callback, errorCallback)</code>: 这个方法用于添加一个请求拦截器，其中 <code>callback</code> 是一个函数，它会在发送请求之前执行。<code>errorCallback</code> 是一个可选的函数，它会在请求拦截器发生错误时执行。</li>
</ol>
<p>在具体的代码中，您可以看到以下操作：</p>
<ul>
<li><p>如果本地存储中存在一个名为 ‘token’ 的数据，就会执行请求拦截器的 <code>config</code> 回调函数，该函数用于修改请求的配置对象 <code>config</code>。</p>
</li>
<li><p>在这个回调函数中，首先检查了一个名为 ‘token’ 的数据，如果存在并且满足 <code>diffTokenTime()</code> 的条件，将执行以下操作：</p>
<ul>
<li><p>调用 <code>this.$store.dispatch(&#39;app/logout&#39;)</code> 以触发 Vuex 中的 <code>app/logout</code> 动作（通常用于用户退出登录的操作）。</p>
</li>
<li><p>返回一个 Promise，拒绝它并抛出一个 ‘token 失效’ 的错误。</p>
</li>
<li><p>如果没有满足条件，将在请求的 <code>config</code> 对象中设置 <code>Authorization</code> 头部，以包含存储在本地的 ‘token’ 数据。</p>
</li>
</ul>
<p>这种方式允许您在每个请求发起之前对请求进行检查和修改。通常，它用于添加身份验证信息、设置请求头、记录请求日志等操作。</p>
<hr>
<p><code>utils</code> 文件夹通常用于存放各种实用工具函数、帮助函数以及通用工具类。这些工具函数和类可以在整个项目中共享和重复使用，以提高代码的可维护性和可重用性。</p>
<p>以下是一些常见的用途，通常会在 <code>utils</code> 文件夹中放置的内容：</p>
<ol>
<li><strong>工具函数</strong>：包括各种通用的 JavaScript 函数，例如日期处理、字符串操作、数组操作、数学计算等。这些函数可以帮助简化代码，减少重复劳动。</li>
<li><strong>HTTP 请求处理</strong>：如果您的应用程序需要与后端进行 HTTP 请求，您可以将处理请求和响应的功能封装到一个或多个文件中，以便在整个应用程序中重用。</li>
<li><strong>验证函数</strong>：如果您需要对用户输入的数据进行验证，可以创建一些验证函数，以确保数据的完整性和合法性。</li>
<li><strong>配置文件</strong>：存放一些应用程序的配置信息，例如 API 地址、密钥、常量等。这些配置信息可以集中管理，方便在应用程序中引用。</li>
<li><strong>日志记录器</strong>：如果您需要记录应用程序的日志，可以创建一个日志记录器工具，用于记录和管理日志消息。</li>
<li><strong>路由帮助函数</strong>：在使用路由库（如 Vue Router 或 React Router）时，可以创建一些帮助函数来处理路由导航、权限控制等。</li>
<li><strong>格式化函数</strong>：用于格式化数据的函数，例如货币格式、日期时间格式、数字格式等。</li>
<li><strong>通用组件</strong>：如果您的应用程序包含可在多个页面或组件中重复使用的通用组件，可以将这些组件放在 <code>utils</code> 文件夹中。</li>
<li><strong>测试工具</strong>：用于单元测试或集成测试的工具函数和测试辅助函数。</li>
</ol>
<p>总之，<code>utils</code> 文件夹通常包含与项目相关的各种通用工具，这些工具可以帮助简化代码、提高开发效率并提供更好的代码组织和维护。但请确保按照项目的需求和规范来组织和命名这些工具函数和类。</p>
<hr>
<p><code>api</code> 文件夹通常用于存放与后端 API 通信相关的代码。这包括定义和管理 API 请求、处理响应以及与后端服务进行数据交互的功能</p>
<hr>
<p><code>&lt;router-view /&gt;</code> 是 Vue Router 的核心概念之一，它用于渲染匹配当前路由的组件内容。具体来说：</p>
<ul>
<li>当你的应用程序导航到不同的路由时，Vue Router 会根据路由规则确定要显示哪个组件。</li>
<li><code>&lt;router-view /&gt;</code> 元素充当容器，用于呈现这些匹配的组件。</li>
<li>你可以将 <code>&lt;router-view /&gt;</code> 放在你的应用程序布局中的任何地方，以确保匹配的组件被正确渲染。</li>
</ul>
<p>所以，这个代码片段表示你的组件模板中唯一的内容是一个用于呈现路由组件的 <code>&lt;router-view /&gt;</code> 元素。这是构建具有多个视图和页面的单页应用程序时常见的方式。</p>
<hr>
<p>URL 中的哈希值（hash）和传统的浏览器历史记录中的路径在使用方式和行为上有一些区别：</p>
<ol>
<li><strong>哈希值路径（例如 <code>#/home</code>）</strong>：<ul>
<li>这种方式使用 URL 中的哈希部分（通常是 <code>#</code> 后面的内容）来表示路由路径。</li>
<li>哈希路径的变化不会触发浏览器向服务器发送请求。这意味着，对于前端路由，页面的切换是在客户端完成的，不会导致页面的完全重新加载。</li>
<li>哈希路径在单页应用程序（SPA）中常用，因为它不需要服务器端配置，且可以在前端路由中进行导航。</li>
</ul>
</li>
<li><strong>传统路径（例如 <code>/home</code>）</strong>：<ul>
<li>这种方式使用 URL 中的标准路径来表示路由路径，不涉及哈希部分。</li>
<li>传统路径的变化通常会导致浏览器向服务器发送请求，服务器需要响应并提供相应的页面。这会导致页面完全重新加载。</li>
<li>传统路径通常用于传统的多页应用程序，其中每个不同的路径对应于服务器上的不同页面。</li>
</ul>
</li>
</ol>
<p>在前端开发中，哈希路径通常更适用于单页应用程序（SPA），因为它们可以在不刷新整个页面的情况下进行页面切换，提供更好的用户体验。传统路径通常用于传统的多页应用程序或需要与服务器进行交互的情况。不过，也可以使用前端路由库（如 Vue Router）来实现传统路径的前端导航，而不需要完全重新加载页面。</p>
<hr>
<p>表单验证通常是通过 Vue 的 <code>v-model</code> 指令和 <code>ref</code> 来处理的</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;form ref=&quot;myForm&quot; @submit.prevent=&quot;submitForm&quot;&gt;</span><br><span class="line">    &lt;input v-model=&quot;formData.username&quot; placeholder=&quot;Username&quot; /&gt;</span><br><span class="line">    &lt;input v-model=&quot;formData.password&quot; type=&quot;password&quot; placeholder=&quot;Password&quot; /&gt;</span><br><span class="line">    &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;</span><br><span class="line">  &lt;/form&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123; ref &#125; from &#x27;vue&#x27;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  setup() &#123;</span><br><span class="line">    // 创建表单引用</span><br><span class="line">    const formRef = ref(null);</span><br><span class="line"></span><br><span class="line">    // 表单数据</span><br><span class="line">    const formData = &#123;</span><br><span class="line">      username: &#x27;&#x27;,</span><br><span class="line">      password: &#x27;&#x27;,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    // 提交表单时的处理函数</span><br><span class="line">    const submitForm = () =&gt; &#123;</span><br><span class="line">      // 使用 formRef.value.validate 来触发表单验证</span><br><span class="line">      formRef.value.validate((valid) =&gt; &#123;</span><br><span class="line">        if (valid) &#123;</span><br><span class="line">          // 表单验证通过，可以执行提交操作</span><br><span class="line">          console.log(&#x27;Form is valid&#x27;);</span><br><span class="line">          // 这里可以执行提交表单的逻辑</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          // 表单验证失败</span><br><span class="line">          console.log(&#x27;Form is invalid&#x27;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    return &#123;</span><br><span class="line">      formRef,</span><br><span class="line">      formData,</span><br><span class="line">      submitForm,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">在 &lt;el-form-item&gt; 元素中配置 prop 属性的作用是将该表单项与表单数据对象中的字段关联起来，从而使表单项的值能够正确地绑定到数据对象的对应字段。</span><br><span class="line"></span><br><span class="line">具体来说，prop 属性的值应该与表单数据对象中的字段名一致，例如 prop=&quot;username&quot; 表示该表单项与表单数据对象中的 username 字段相关联。这样，当用户在表单项中输入数据时，Vue.js 就会自动将这些数据更新到 form.username 这个字段中。</span><br><span class="line"></span><br><span class="line">配置 prop 属性的好处包括：</span><br><span class="line"></span><br><span class="line">    数据绑定：可以确保表单项的值与数据对象中的字段保持同步，无需手动处理数据的收集和更新。</span><br><span class="line"></span><br><span class="line">    表单验证：如果使用了 Element UI 的表单验证功能，配置了 prop 属性后，会自动应用表单验证规则到关联的字段上，从而方便地进行表单验证。</span><br><span class="line"></span><br><span class="line">    表单提交：在提交表单时，可以直接使用数据对象，而不需要单独获取每个表单项的值。</span><br></pre></td></tr></table></figure>

<hr>
<p><code>v-slot</code> 是 Vue 3 中的新语法，用于定义具名插槽。</p>
<p><code>#default</code> 是 Vue 2 中的语法，用于定义匿名插槽。</p>
<p>在 Vue 2 中，你可以使用 <code>v-slot</code> 来定义具名插槽，但一般情况下，<code>#default</code> 用于匿名插槽，而具名插槽则使用 <code>v-slot:name</code></p>
<hr>
<p>Vue Router 是 Vue.js 官方的路由管理器</p>
<p>带name</p>
<p>“没有硬编码的 URL” 意味着你不需要在应用程序的各个地方手动编写 URL。而是使用路由的名称（name）来引用路由，使得在整个应用程序中，路由的 URL 都是自动生成和管理的。</p>
<hr>
<p>Vuex 是一个专为 Vue.js 应用程序开发的<strong>状态管理模式 + 库</strong>。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</p>
<p><strong>全局单例模式管理：</strong> 这是一种设计模式，通常用于在应用程序中维护全局状态。在 Vue.js 中，这可以通过  Vuex 来实现，它是一个专门用于状态管理的库。使用  Vuex，你可以将应用程序的共享状态抽取出来，以一个全局单例（单一的数据存储）的方式管理。这意味着无论在你的应用程序中的哪个组件，都可以访问和修改相同的状态，而不需要手动传递数据或处理事件。</p>
<p>Vue.js 的默认组件通信方式（父组件传递给子组件或通过事件传递）变得不太适用，因为兄弟组件之间没有直接的父子关系。(vuex-store)</p>
<p>每一个 Vuex 应用的核心就是 store（仓库）。“store”基本上就是一个容器，它包含着你的应用中大部分的**状态 (state)**。Vuex 和单纯的全局对象有以下两点不同：</p>
<ol>
<li>Vuex 的状态存储是响应式的。当 Vue 组件从 store 中读取状态的时候，若 store 中的状态发生变化，那么相应的组件也会相应地得到高效更新。</li>
<li>你不能直接改变 store 中的状态。改变 store 中的状态的唯一途径就是显式地<strong>提交 (commit) mutation</strong>。这样使得我们可以方便地跟踪每一个状态的变化，从而让我们能够实现一些工具帮助我们更好地了解我们的应用。</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://vuex.vuejs.org/zh/guide/#%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84-store">https://vuex.vuejs.org/zh/guide/#%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84-store</a></p>
<p>在 Vuex 中，所有的应用程序状态都存储在一个单一的 JavaScript 对象中，这个对象被称为“状态树”或“存储”（store）。这个状态树包含了整个应用程序的状态，无论应用中有多少组件或模块，它们都共享这个状态树。</p>
<p>关键点如下：</p>
<ol>
<li><p><strong>单一数据源 (SSOT)：</strong> Vuex 鼓励将应用程序的所有状态集中管理，这意味着你不需要在不同的组件之间传递状态或维护多个分散的状态副本。这种集中式管理使得状态更加可维护和可预测。</p>
</li>
<li><p><strong>一个 store 实例：</strong> 在一个 Vue.js 应用中，通常只会创建一个 Vuex store 实例。这个实例在整个应用中起到全局状态管理的作用。无论你在哪个组件中需要访问状态，都可以通过这个 store 实例来获取或修改状态。</p>
</li>
<li><p><strong>模块化：</strong> 虽然整个应用共享一个状态树，但你可以使用 Vuex 的模块化系统来将状态树拆分为多个模块。这可以帮助你在大型应用中更好地组织状态，每个模块都有自己的状态、mutations、actions 等。</p>
</li>
<li><p><strong>数据响应式系统：</strong> Vue 使用响应式系统来追踪数据的变化。当数据发生变化时，Vue 会自动更新视图以反映这些变化。这个系统依赖于 JavaScript 的事件循环（Event Loop）机制。如果 <code>mutation</code> 是异步的，那么它可能无法在数据变化之前同步提交变化，从而导致视图和状态不一致。</p>
</li>
<li><p><strong>开发者工具：</strong> Vuex 提供了强大的开发者工具，可以追踪和调试状态的变化。如果 <code>mutation</code> 是异步的，这些工具将变得不可靠，因为它们无法准确地追踪异步操作的状态变化。</p>
</li>
</ol>
<hr>
<p>同步函数是一种在执行过程中不会阻塞或暂停程序执行的函数。当调用一个同步函数时，它会立即执行其中的代码，并在执行完毕后返回结果。同步函数通常用于处理那些不涉及异步操作（如网络请求、文件读写等）的任务。</p>
<p>异步函数是一种可能会在执行过程中暂停程序，等待某些操作完成后再继续执行的函数</p>
<hr>
<p><code>timer &amp;&amp; clearTimeout(timer);</code>：这一行是在每次滚动事件触发时，首先清除之前设置的定时器，以确保在下一次滚动事件之前不会执行函数。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/vue3.2%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E5%BF%83%E5%BE%97/" data-id="clnubxg0d0000tgu23kyzdyoh" data-title="树的中/后序遍历（简易）" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-vue项目创建过程" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/vue%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA%E8%BF%87%E7%A8%8B/" class="article-date">
  <time class="dt-published" datetime="2023-07-08T16:00:00.000Z" itemprop="datePublished">2023-07-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/vue%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA%E8%BF%87%E7%A8%8B/">vue项目的创建过程</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>首先打开cmd，键入vue ui打开vue图形界面</p>
<p>将建好的空白文件夹路径粘贴到更多-管理-创建</p>
<p>手动配置，不保存预设</p>
<p><strong>涉及到</strong>sass&#x2F;css&#x2F;eslink、linter&#x2F;vuex&#x2F;router、axios、husky、vue-vli</p>
<p>app.vue好像是整体都有的</p>
<p>“app.vue是vue页面资源的首加载项，是主组件，页面入口文件，所有页面都是在App.vue下进行切换的；也是整个项目的关键，app.vue负责构建定义及页面组件归集。</p>
<p> <em>app.vue中不但可以当做是网站首页,也可以写所有页面中公共需要的动画或者样式</em>，</p>
<p><em>所有的页面都是在app.vue中进行切换的</em></p>
<p><em>ref 属性 ref 属性被用来给元素或子组件注册引用信息(id的替代者),相当于对页面元素或子组件标识</em></p>
<p>import { Edit } from ‘@element-plus&#x2F;icons-vue’</p>
 <script src="//unpkg.com/@element-plus/icons-vue"></script> 直接引用，组件首字母大小

<h1 id="aria-hidden"><a href="#aria-hidden" class="headerlink" title="aria-hidden"></a>aria-hidden</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_54334713/article/details/127344641">https://blog.csdn.net/qq_54334713/article/details/127344641</a></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--legacy-peer-deps</span><br></pre></td></tr></table></figure>

<p>npm run serve</p>
<p>拖入prettierrc的配置文件</p>
<p>在配置下.eslintrc.js里的rules 新增  为了解决eslint与prettier冲突<br>indent: 0,<br>‘space-before-function-paren’: 0</p>
<p>git commit代码提交规范</p>
<p>npm install -g <a href="mailto:&#x63;&#111;&#109;&#109;&#105;&#116;&#105;&#122;&#x65;&#x6e;&#64;&#52;&#x2e;&#50;&#46;&#x34;">&#x63;&#111;&#109;&#109;&#105;&#116;&#105;&#122;&#x65;&#x6e;&#64;&#52;&#x2e;&#50;&#46;&#x34;</a><br>npm i <a href="mailto:&#x63;&#x7a;&#45;&#x63;&#x75;&#115;&#x74;&#x6f;&#x6d;&#x69;&#x7a;&#97;&#98;&#108;&#x65;&#64;&#54;&#46;&#x33;&#46;&#48;">&#x63;&#x7a;&#45;&#x63;&#x75;&#115;&#x74;&#x6f;&#x6d;&#x69;&#x7a;&#97;&#98;&#108;&#x65;&#64;&#54;&#46;&#x33;&#46;&#48;</a> –save-dev</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">setup</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">const</span> boxWidth = <span class="string">&#x27;100px&#x27;</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.box</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">width</span>: <span class="built_in">v-bind</span>(boxWidth);</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-color</span>: red;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">vue3.0 css绑定js</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/vue%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA%E8%BF%87%E7%A8%8B/" data-id="clnubd3us000e64u27xut23xl" data-title="vue项目的创建过程" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-joisc2014" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/joisc2014/" class="article-date">
  <time class="dt-published" datetime="2023-05-06T03:02:55.437Z" itemprop="datePublished">2023-05-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/joisc2014/">2882. 「JOISC 2014 Day4」两个人的星座</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://loj.ac/p/2882">题目链接</a><br><a target="_blank" rel="noopener" href="https://oi-wiki.org/geometry/2d/">oi-wiki链接</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/tuchen/p/14275211.html">题解参考</a></p>
<p><strong>先看oi-wiki的，不懂再看这个</strong></p>
<p>将[-180°,+180°] &#x3D;&gt; [0°,360°]</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(b[i].tan &lt;= <span class="number">0</span>)</span><br><span class="line">  b[i].tan += pi;</span><br></pre></td></tr></table></figure>

<p>由极轴定义：极轴是原点向正y延伸的射线或线段。</p>
<p>故b[i].y &lt; 0代表极轴下半轴；当b[i].y &#x3D;&#x3D; 0 时代表点在极轴上，当b[i].x &gt; 0时表示$&#x2F;theta$为0而不为Π，在极轴下方</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(b[i].y &lt; <span class="number">0</span> || (b[i].y == <span class="number">0</span> &amp;&amp; b[i].x &gt; <span class="number">0</span>))</span><br></pre></td></tr></table></figure>

<p>在u点进行极轴的改变（旋转），上下点的数量发生变化，该减减，该加加</p>
<p>一个点b[i]可能会被用于多个三角形的构造中，因此需要在统计完一个三角形后将涉及到的点b[i]的状态取反（即从极轴上方变为下方或从下方变为上方），以避免重复统计。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= st; ++i) &#123;</span><br><span class="line">        sum[bl[i]][b[i].c]--;</span><br><span class="line">        ans += <span class="built_in">calc</span>(<span class="number">0</span>, b[i].c) * <span class="built_in">calc</span>(<span class="number">1</span>, a[u].c);</span><br><span class="line">        ans += <span class="built_in">calc</span>(<span class="number">1</span>, b[i].c) * <span class="built_in">calc</span>(<span class="number">0</span>, a[u].c);</span><br><span class="line">        sum[bl[i] ^= <span class="number">1</span>][b[i].c]++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对每个三角形而言，涉及到的两个点都会被a[u]更新，同一条公切线会被枚举两次。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cout &lt;&lt; ans / <span class="number">4</span>;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/joisc2014/" data-id="clnubd3ul000964u26hfm1xs0" data-title="2882. 「JOISC 2014 Day4」两个人的星座" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/hello-world/" class="article-date">
  <time class="dt-published" datetime="2023-05-04T10:40:59.468Z" itemprop="datePublished">2023-05-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/hello-world/" data-id="clnubd3ui000564u261qoc6zb" data-title="Hello World" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-linee" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/linee/" class="article-date">
  <time class="dt-published" datetime="2023-03-03T06:34:48.000Z" itemprop="datePublished">2023-03-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/linee/">linee</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="线段是否相交"><a href="#线段是否相交" class="headerlink" title="线段是否相交"></a>线段是否相交</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="type">bool</span> <span class="title">judge2</span><span class="params">(T a,  T b, T c, T d)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">max</span>(a.first , b.first) &gt;= <span class="built_in">min</span>(c.first, d.first) &amp;&amp; <span class="built_in">max</span>(c.first, d.first) &gt;= <span class="built_in">min</span>(a.first, b.first) &amp;&amp; <span class="built_in">max</span>(a.second, b.second) &gt;= <span class="built_in">min</span>(c.second, d.second) &amp;&amp; <span class="built_in">max</span>(c.second, d.second) &gt;= <span class="built_in">min</span>(a.second, b.second))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="type">bool</span> <span class="title">judge1</span><span class="params">(T a,  T b, T c, T d)</span></span>&#123;<span class="comment">//跨立实验</span></span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">judge2</span>(a, b, c, d))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="type">double</span> d1 = (a.first - c.first) * (d.second - c.second) - (d.first - c.first) * (a.second - c.second);</span><br><span class="line">    <span class="type">double</span> d2 = (d.first - c.first) * (b.second - c.second) - (b.first - c.first) * (d.second - c.second);</span><br><span class="line">    <span class="type">double</span> d3 = (c.first - a.first) * (b.second - a.second) - (b.first - a.first) * (c.second - a.second);</span><br><span class="line">    <span class="type">double</span> d4 = (b.first - a.first) * (d.second - a.second) - (d.first - a.first) * (b.second - a.second);</span><br><span class="line">   <span class="keyword">if</span>(d3 * d4 &gt;= <span class="number">0</span> &amp;&amp; d1 * d2 &gt;= <span class="number">0</span>)</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//一般做题是先快速排斥， 后跨立</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        pair&lt;<span class="type">double</span>, <span class="type">double</span>&gt; p[<span class="number">4</span>];</span><br><span class="line">            cin &gt;&gt; p[<span class="number">0</span>].first &gt;&gt; p[<span class="number">0</span>].second &gt;&gt; p[<span class="number">1</span>].first &gt;&gt; p[<span class="number">1</span>].second &gt;&gt; p[<span class="number">2</span>].first &gt;&gt; p[<span class="number">2</span>].second &gt;&gt; p[<span class="number">3</span>].first &gt;&gt; p[<span class="number">3</span>].second;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">judge1</span>(p[<span class="number">0</span>], p[<span class="number">1</span>], p[<span class="number">2</span>], p[<span class="number">3</span>]))</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;Yes&quot;</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;No&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="线段相交是否规范（只能过90-数据，先占个位）"><a href="#线段相交是否规范（只能过90-数据，先占个位）" class="headerlink" title="线段相交是否规范（只能过90%数据，先占个位）"></a>线段相交是否规范（只能过90%数据，先占个位）</h3><img src="C:\Users\86188\AppData\Roaming\Typora\typora-user-images\image-20230302214527151.png" alt="image-20230302214527151" style="zoom:80%;" />

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include&lt;bits/stdc++.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> IOS ios::sync_with_stdio(false),cin.tie(NULL),cout.tie(NULL);</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxx = <span class="number">1e4</span> + <span class="number">5</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e6</span> + <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 10000100</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> endl <span class="string">&#x27;\n&#x27;</span></span></span><br><span class="line"><span class="type">const</span> ll  mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> test printf(<span class="string">&quot;--------------------------\n&quot;</span>);</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> re(a) memset((a), 0, sizeof((a)))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> remax(a) memset((a), 0x3f3f3f3f, sizeof((a)))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PII pair<span class="string">&lt;int, int&gt;</span></span></span><br><span class="line"><span class="type">const</span> <span class="type">double</span> pi=<span class="built_in">acos</span>(<span class="number">-1.0</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">llog</span><span class="params">(<span class="type">int</span> n)</span></span>&#123; <span class="keyword">return</span> <span class="number">31</span> - __builtin_clz(n);&#125; <span class="comment">//取对数</span></span><br><span class="line"><span class="comment">// struct cmp&#123;</span></span><br><span class="line"><span class="comment">//     friend bool operator &gt; (const struct scoree &amp;a, const struct scoree &amp;b)&#123;</span></span><br><span class="line"><span class="comment">//         return a.score &gt; b.score;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="comment">// &#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="type">bool</span> <span class="title">judge2</span><span class="params">(T a,  T b, T c, T d)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">max</span>(a.first , b.first) &gt;= <span class="built_in">min</span>(c.first, d.first) &amp;&amp; <span class="built_in">max</span>(c.first, d.first) &gt;= <span class="built_in">min</span>(a.first, b.first) &amp;&amp; <span class="built_in">max</span>(a.second, b.second) &gt;= <span class="built_in">min</span>(c.second, d.second) &amp;&amp; <span class="built_in">max</span>(c.second, d.second) &gt;= <span class="built_in">min</span>(a.second, b.second))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="type">bool</span> <span class="title">judge1</span><span class="params">(T a,  T b, T c, T d)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="built_in">judge2</span>(a, b, c, d))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span> d1 = (a.first - c.first) * (d.second - c.second) - (d.first - c.first) * (a.second - c.second);</span><br><span class="line">    <span class="type">double</span> d2 = (d.first - c.first) * (b.second - c.second) - (b.first - c.first) * (d.second - c.second);</span><br><span class="line">    <span class="type">double</span> d3 = (c.first - a.first) * (b.second - a.second) - (b.first - a.first) * (c.second - a.second);</span><br><span class="line">    <span class="type">double</span> d4 = (b.first - a.first) * (d.second - a.second) - (d.first - a.first) * (b.second - a.second);</span><br><span class="line">   <span class="keyword">if</span>(d3 * d4 &gt;= <span class="number">0</span> &amp;&amp; d1 * d2 &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">   &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">judge3</span><span class="params">(PII a,  PII b, PII c, PII d)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>((b.first - a.first) * (c.first - d.first) + (b.second - a.second) * (d.second - c.second) == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> t;</span><br><span class="line">    cin &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        pair&lt;<span class="type">double</span>, <span class="type">double</span>&gt; p[<span class="number">4</span>];</span><br><span class="line">            cin &gt;&gt; p[<span class="number">0</span>].first &gt;&gt; p[<span class="number">0</span>].second &gt;&gt; p[<span class="number">1</span>].first &gt;&gt; p[<span class="number">1</span>].second &gt;&gt; p[<span class="number">2</span>].first &gt;&gt; p[<span class="number">2</span>].second &gt;&gt; p[<span class="number">3</span>].first &gt;&gt; p[<span class="number">3</span>].second;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">judge1</span>(p[<span class="number">0</span>], p[<span class="number">1</span>], p[<span class="number">2</span>], p[<span class="number">3</span>]))&#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="built_in">judge3</span>(p[<span class="number">0</span>], p[<span class="number">1</span>], p[<span class="number">2</span>], p[<span class="number">3</span>]))</span><br><span class="line">                    cout &lt;&lt; <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    cout &lt;&lt; <span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/linee/" data-id="clnubd3ul000a64u2ablo53nu" data-title="linee" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-lca" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/lca/" class="article-date">
  <time class="dt-published" datetime="2023-03-02T14:32:41.000Z" itemprop="datePublished">2023-03-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/lca/">lca(最近公共祖先)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">5e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> DEG = <span class="number">30</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> re(a) memset(a, -1, sizeof(a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span>&#123;</span><br><span class="line">    <span class="type">int</span> to, next;</span><br><span class="line">&#125;edge[maxn * <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> head[maxn], tot;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">addedge</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    edge[tot].to = v;</span><br><span class="line">    edge[tot].next = head[u];</span><br><span class="line">    head[u] = tot++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    tot = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">re</span>(head);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> fa[maxn][DEG], deg[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">bfs</span><span class="params">(<span class="type">int</span> root)</span></span>&#123;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; que;</span><br><span class="line">    deg[root] = <span class="number">0</span>;</span><br><span class="line">    fa[root][<span class="number">0</span>] = root;</span><br><span class="line">    que.<span class="built_in">push</span>(root);</span><br><span class="line">    <span class="keyword">while</span>(!que.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> tmp = que.<span class="built_in">front</span>();</span><br><span class="line">        que.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; DEG; ++i)&#123;</span><br><span class="line">            fa[tmp][i] = fa[fa[tmp][i - <span class="number">1</span>]][i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = head[tmp]; i != <span class="number">-1</span>; i = edge[i].next)&#123;</span><br><span class="line">            <span class="type">int</span> v = edge[i].to;</span><br><span class="line">            <span class="keyword">if</span>(v == fa[tmp][<span class="number">0</span>])</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            deg[v] = deg[tmp] + <span class="number">1</span>;</span><br><span class="line">            fa[v][<span class="number">0</span>] = tmp;</span><br><span class="line">            que.<span class="built_in">push</span>(v);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lca</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(deg[u] &gt; deg[v])&#123;</span><br><span class="line">        <span class="built_in">swap</span>(u, v);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> hu = deg[u], hv = deg[v];</span><br><span class="line">    <span class="type">int</span> tu = u, tv = v;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> det = hv - hu, i = <span class="number">0</span>; det; det &gt;&gt;= <span class="number">1</span>, ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(det &amp; <span class="number">1</span>)</span><br><span class="line">            tv = fa[tv][i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(tu == tv)</span><br><span class="line">        <span class="keyword">return</span> tu;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = DEG - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(fa[tu][i] == fa[tv][i])&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        tu = fa[tu][i];</span><br><span class="line">        tv = fa[tv][i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fa[tu][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">bool</span> flag[maxn];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m, s;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="built_in">memset</span>(flag, <span class="literal">false</span>, <span class="built_in">sizeof</span>(flag));</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; s;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="type">int</span> a, b;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        <span class="built_in">addedge</span>(a, b);</span><br><span class="line">        <span class="built_in">addedge</span>(b, a);</span><br><span class="line">        flag[b] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> root;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!flag[i]) &#123;</span><br><span class="line">            root = i;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">bfs</span>(s);<span class="comment">//根节点</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; ++i)&#123;</span><br><span class="line">        <span class="type">int</span> a, b;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        cout &lt;&lt; <span class="built_in">lca</span>(a, b) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="cost"><a href="#cost" class="headerlink" title="cost"></a>cost</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">5e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> re(a) memset(a, 0, sizeof(a));</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; v[maxn], w[maxn];</span><br><span class="line"><span class="type">int</span> fa[maxn][<span class="number">31</span>], cost[maxn][<span class="number">31</span>], dep[maxn];</span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">int</span> a, b, c;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> root, <span class="type">int</span> faa)</span></span>&#123;</span><br><span class="line">    fa[root][<span class="number">0</span>] = faa;</span><br><span class="line">    dep[root] = dep[fa[root][<span class="number">0</span>]] + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; <span class="number">31</span>; ++i)&#123;</span><br><span class="line">        fa[root][i] = fa[fa[root][i - <span class="number">1</span>]][i - <span class="number">1</span>];</span><br><span class="line">        <span class="comment">//cost[root][i] = cost[fa[root][i - 1]][i - 1];</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> sz = v[root].<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; sz; ++i)&#123;</span><br><span class="line">        <span class="keyword">if</span>(v[root][i] == faa)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="comment">//cost[v[root][i]][0] = w[root][i];</span></span><br><span class="line">        <span class="built_in">dfs</span>(v[root][i], root);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lca</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(dep[x] &gt; dep[y])</span><br><span class="line">        <span class="built_in">swap</span>(x, y);</span><br><span class="line">    <span class="type">int</span> temp = dep[y] - dep[x];</span><br><span class="line">    <span class="comment">//, ans = 0;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; temp; ++j, temp &gt;&gt;= <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span>(temp &amp; <span class="number">1</span>)</span><br><span class="line">            <span class="comment">// ans += cost[y][j];</span></span><br><span class="line">             y = fa[y][j];</span><br><span class="line">    <span class="keyword">if</span> (y == x)</span><br><span class="line">        <span class="keyword">return</span> y;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">30</span>; j &gt;= <span class="number">0</span> &amp;&amp; y != x; --j)&#123;</span><br><span class="line">        <span class="keyword">if</span>(fa[x][j] != fa[y][j]) &#123;</span><br><span class="line">            <span class="comment">//ans += cost[x][j] + cost[y][j];</span></span><br><span class="line">            x = fa[x][j];</span><br><span class="line">            y = fa[y][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ans += cost[x][0] + cost[y][0];</span></span><br><span class="line">    <span class="keyword">return</span> fa[x][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">bool</span> flag[maxn];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">re</span>(fa);</span><br><span class="line">    <span class="built_in">re</span>(cost);</span><br><span class="line">    <span class="built_in">re</span>(dep);</span><br><span class="line">    <span class="type">int</span> s;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m &gt;&gt; s;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="type">int</span> a, b, c;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        <span class="comment">//++a, ++b;</span></span><br><span class="line">        v[a].<span class="built_in">push_back</span>(b);</span><br><span class="line">        v[b].<span class="built_in">push_back</span>(a);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// w[a].push_back(c);</span></span><br><span class="line">        <span class="comment">// w[b].push_back(c);</span></span><br><span class="line">    &#125;</span><br><span class="line">        <span class="built_in">dfs</span>(s, <span class="number">0</span>);</span><br><span class="line">    <span class="comment">//cin &gt;&gt; m;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; ++i)&#123;</span><br><span class="line">        <span class="type">int</span> a, b;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        <span class="comment">//++a, ++b;</span></span><br><span class="line">        cout &lt;&lt; <span class="built_in">lca</span>(a, b) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/lca/" data-id="clnubd3uj000664u2245rb8al" data-title="lca(最近公共祖先)" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-tree-min" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/tree-min/" class="article-date">
  <time class="dt-published" datetime="2023-03-02T14:29:53.000Z" itemprop="datePublished">2023-03-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/tree-min/">最小生成树</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Kruskal"><a href="#Kruskal" class="headerlink" title="Kruskal"></a>Kruskal</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> pre[maxn];</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">int</span> from, to, w;</span><br><span class="line">&#125;g[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(node a, node b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.w &lt; b.w;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        pre[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(pre[x] == x)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">return</span> pre[x] = <span class="built_in">find</span>(pre[x]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// void merge(int x, int y)&#123;//看个人习惯，也可以写到kru内部</span></span><br><span class="line"><span class="comment">//     x = find(x);</span></span><br><span class="line"><span class="comment">//     y = find(y);</span></span><br><span class="line"><span class="comment">//     if(x != y)</span></span><br><span class="line"><span class="comment">//         pre[x] = y;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">kru</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> m)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> ans = <span class="number">0</span>, cnt_edge = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">sort</span>(g, g + m, cmp);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; m; ++i)&#123;</span><br><span class="line">        <span class="type">int</span> x = g[i].from;</span><br><span class="line">        <span class="type">int</span> y = g[i].to;</span><br><span class="line">        x = <span class="built_in">find</span>(x), y = <span class="built_in">find</span>(y);</span><br><span class="line">        <span class="keyword">if</span>(x != y)&#123;</span><br><span class="line">            pre[x] = y;</span><br><span class="line">            ans += g[i].w;</span><br><span class="line">            ++cnt_edge;</span><br><span class="line">            <span class="keyword">if</span>(cnt_edge == n - <span class="number">1</span>) &#123;</span><br><span class="line">                cout &lt;&lt; ans;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;没连通&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="prim"><a href="#prim" class="headerlink" title="prim"></a>prim</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> re(a) memset(a, 0, sizeof(a));</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> remax(a) memset(a, 0x3f, sizeof(a));</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PII pair<span class="string">&lt;int, int&gt;</span></span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e4</span> + <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> dis[maxn], e[maxn][maxn];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">bool</span> vis[maxn];</span><br><span class="line"><span class="type">int</span> ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">prim</span><span class="params">(<span class="type">int</span> s)</span></span>&#123;</span><br><span class="line">    <span class="built_in">remax</span>(dis);</span><br><span class="line">    <span class="built_in">re</span>(vis);</span><br><span class="line">    priority_queue&lt;PII, vector&lt;PII&gt;, greater&lt;PII&gt;&gt; q;</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="type">int</span> u = <span class="number">-1</span>, minx = <span class="number">0x3f3f3f</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; ++j)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!vis[j] &amp;&amp; dis[j] &lt; minx)&#123;</span><br><span class="line">                u = j;</span><br><span class="line">                minx = dis[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(u == <span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        vis[u] = <span class="literal">true</span>;</span><br><span class="line">        ans += dis[u];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> v = <span class="number">0</span>; v &lt; n; ++v)&#123;<span class="comment">//中间点</span></span><br><span class="line">            <span class="keyword">if</span>(!vis[v] &amp;&amp; e[u][v] != <span class="number">0x3f3f3f3f</span>)</span><br><span class="line">                dis[v] = <span class="built_in">min</span>(dis[v], e[u][v]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/tree-min/" data-id="clnubd3uk000864u228hs5x9d" data-title="最小生成树" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-treeArray" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/treeArray/" class="article-date">
  <time class="dt-published" datetime="2023-03-02T14:24:03.000Z" itemprop="datePublished">2023-03-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/treeArray/">树状数组</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="差分"><a href="#差分" class="headerlink" title="差分"></a>差分</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e5</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[maxn];</span><br><span class="line"><span class="type">int</span> sum[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">        sum[i] = a[i] - a[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> l, r, c;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)&#123;</span><br><span class="line">        cin &gt;&gt; l &gt;&gt; r &gt;&gt; c;</span><br><span class="line">        sum[l] += c;</span><br><span class="line">        sum[r + <span class="number">1</span>] -= c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        a[i] = sum[i] + a[i - <span class="number">1</span>];</span><br><span class="line">        <span class="comment">// if (i == 1)</span></span><br><span class="line">        <span class="comment">//     cout &lt;&lt; (sum[i] + a[i - 1]);</span></span><br><span class="line">        <span class="comment">// else cout &lt;&lt; &quot; &quot; &lt;&lt; (sum[i] + a[i - 1]);</span></span><br><span class="line">        <span class="comment">//这样是错误的， 前面 a[i - 1] 会影响到后续的计算</span></span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">1</span>)</span><br><span class="line">            cout &lt;&lt; a[i];</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="单点更新区间查询"><a href="#单点更新区间查询" class="headerlink" title="单点更新区间查询"></a>单点更新区间查询</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">2e4</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[maxn], C[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line"><span class="comment">//lowbit（）函数用来取一个二进制最低位的一与后边的0组成的数</span></span><br><span class="line">    <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> x)</span></span>&#123; <span class="comment">//sum[1, i]</span></span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(x &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        sum += C[x];</span><br><span class="line">        x -= <span class="built_in">lowbit</span>(x);<span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//单点更新</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">updata</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> val)</span></span>&#123;<span class="comment">//更新（由小到大）是查询的逆过程</span></span><br><span class="line">    <span class="keyword">while</span>(x &lt;= n)&#123;<span class="comment">//可能会是maxn</span></span><br><span class="line">        C[x] += val;</span><br><span class="line">        x += <span class="built_in">lowbit</span>(x);<span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="区间更新单点查询"><a href="#区间更新单点查询" class="headerlink" title="区间更新单点查询"></a>区间更新单点查询</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e5</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[maxn], C[maxn];</span><br><span class="line"><span class="comment">//这样就把，原来要更新一个区间的值变成了只需要更新两个点</span></span><br><span class="line"><span class="comment">//通过两个端点的更新</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> i)</span></span>&#123; <span class="comment">//sum[1, i]</span></span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        sum += C[i];</span><br><span class="line">        i -= <span class="built_in">lowbit</span>(i);<span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//单点更新</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">updata</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> val)</span></span>&#123;<span class="comment">//更新（由小到大）是查询的逆过程</span></span><br><span class="line">    <span class="keyword">while</span>(i &lt;= n)&#123;</span><br><span class="line">        C[i] += val;</span><br><span class="line">        i += <span class="built_in">lowbit</span>(i);<span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> x, y, k;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">        <span class="built_in">updata</span>(i, a[i] - a[i - <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//[x, y] 加 k</span></span><br><span class="line">    <span class="built_in">updata</span>(x, k);<span class="comment">//a[x] - a[x - 1] 加 k</span></span><br><span class="line">    <span class="built_in">updata</span>(y + <span class="number">1</span>, -k); <span class="comment">//a[y + 1] - a[y] 减 k</span></span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="comment">//查询i位置的值</span></span><br><span class="line">    <span class="type">int</span> sum_ = <span class="built_in">sum</span>(i);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="区间更新区间查询"><a href="#区间更新区间查询" class="headerlink" title="区间更新区间查询"></a>区间更新区间查询</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e5</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> a[maxn], C[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> sum1[maxn], sum2[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> i)</span></span>&#123; <span class="comment">//sum[1, i]</span></span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>, x = i;</span><br><span class="line">    <span class="keyword">while</span>(i &gt; <span class="number">0</span>)&#123;</span><br><span class="line">        sum += x *sum1[i] - sum2[i];</span><br><span class="line">        i -= <span class="built_in">lowbit</span>(i);<span class="comment">//       </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//单点更新</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">updata</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> val)</span></span>&#123;<span class="comment">//更新（由小到大）是查询的逆过程</span></span><br><span class="line">    <span class="type">int</span> x = i;</span><br><span class="line">    <span class="keyword">while</span>(i &lt;= n)&#123;</span><br><span class="line">        sum1[i] += val;</span><br><span class="line">        sum2[i] += val;</span><br><span class="line">        i += <span class="built_in">lowbit</span>(i);<span class="comment">//</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">        cin &gt;&gt; a[i];</span><br><span class="line">        <span class="built_in">updata</span>(i, a[i] - a[i - <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> x, y, k;</span><br><span class="line">    <span class="comment">//[x, y] 加 k</span></span><br><span class="line">    <span class="built_in">updata</span>(x, k);<span class="comment">//a[x] - a[x - 1] 加 k</span></span><br><span class="line">    <span class="built_in">updata</span>(y + <span class="number">1</span>, -k); <span class="comment">//a[y + 1] - a[y] 减 k</span></span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="comment">//[x, y]区间和</span></span><br><span class="line">    <span class="type">int</span> sum_ = <span class="built_in">sum</span>(y) - <span class="built_in">sum</span>(x - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/treeArray/" data-id="clnubd3um000c64u299gva9qk" data-title="树状数组" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-bag" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/bag/" class="article-date">
  <time class="dt-published" datetime="2023-03-02T13:55:31.000Z" itemprop="datePublished">2023-03-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/bag/">bag</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="背包板子"><a href="#背包板子" class="headerlink" title="背包板子"></a>背包板子</h2><h3 id="01背包"><a href="#01背包" class="headerlink" title="01背包"></a>01背包</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// N 件物品和一个容量是 V 的背包。每件物品只能使用一次</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> re(a) memset((a), 0, sizeof((a)))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> rem(a) memset((a), 0x3f, sizeof((a)))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e6</span> + <span class="number">5</span>;</span><br><span class="line">ll a[maxn], b[maxn], pre[maxn], aft[maxn];</span><br><span class="line">ll dp[<span class="number">1005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">       cin &gt;&gt; a[i] &gt;&gt; b[i];</span><br><span class="line">    &#125;</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = m; j &gt;= <span class="number">0</span>; --j)&#123;<span class="comment">//倒着</span></span><br><span class="line">            <span class="comment">//dp[j] = dp[j];</span></span><br><span class="line">            <span class="keyword">if</span>(j - a[i] &gt;= <span class="number">0</span>) dp[j] = <span class="built_in">max</span>(dp[j], dp[j - a[i]] + b[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    cout &lt;&lt; dp[m];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="完全背包"><a href="#完全背包" class="headerlink" title="完全背包"></a>完全背包</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//N  种物品和一个容量是 V 的背包，每种物品都有无限件可用。</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> re(a) memset((a), 0, sizeof((a)))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> rem(a) memset((a), 0x3f, sizeof((a)))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n, m;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e6</span> + <span class="number">5</span>;</span><br><span class="line">ll a[maxn], b[maxn], pre[maxn], aft[maxn];</span><br><span class="line">ll dp[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="comment">//n件物品，m的体积</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)&#123;</span><br><span class="line">       cin &gt;&gt; a[i] &gt;&gt; b[i];</span><br><span class="line">    &#125;</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= m; ++j)&#123;<span class="comment">//顺着</span></span><br><span class="line">            dp[i][j] = dp[i - <span class="number">1</span>][j];</span><br><span class="line">            <span class="keyword">if</span>(j - a[i] &gt;= <span class="number">0</span>) dp[i][j] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>][j], dp[i][j - a[i]] + b[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    cout &lt;&lt; dp[n][m];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="多重背包"><a href="#多重背包" class="headerlink" title="多重背包"></a>多重背包</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="comment">//N  种物品和一个容量是 V 的背包。</span></span><br><span class="line"><span class="comment">//第 i 种物品最多有 si 件，每件体积是 vi，价值是 wi。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> dp[<span class="number">105</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> v, w, s;</span><br><span class="line">    <span class="type">int</span> N, V;</span><br><span class="line">    cin &gt;&gt; N &gt;&gt; V;</span><br><span class="line">    <span class="comment">//------------------------------朴素</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line">        cin &gt;&gt; v &gt;&gt; w &gt;&gt; s;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = V; j &gt;= <span class="number">0</span>; --j)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> k = <span class="number">0</span>; k &lt;= s &amp;&amp; k * v &lt;= j; ++k)&#123;</span><br><span class="line">                dp[j] = <span class="built_in">max</span>(dp[j], dp[j - k * v] + k * w);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; dp[V];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//--------------------------2000内优化</span></span><br><span class="line">    vector&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; vv;</span><br><span class="line">    <span class="type">int</span> f[<span class="number">2005</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line">        <span class="type">int</span> v, w, s;</span><br><span class="line">        cin &gt;&gt; v &gt;&gt; w &gt;&gt; s;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; s &gt;= k; k *= <span class="number">2</span>)&#123;</span><br><span class="line">            s -= k;</span><br><span class="line">            vv.<span class="built_in">push_back</span>(&#123;v * k, w * k&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(s &gt; <span class="number">0</span>)</span><br><span class="line">            vv.<span class="built_in">push_back</span>(&#123;v * s, w * s&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> w: vv)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = V; i &gt;= w.first; --i)&#123;</span><br><span class="line">            f[i] = <span class="built_in">max</span>(f[i], f[i - w.first] + w.second);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; f[V] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//-----------------------------20000数组模拟单调队列优化</span></span><br><span class="line">    <span class="type">int</span> q[<span class="number">20002</span>], g[<span class="number">20002</span>], dp[<span class="number">20002</span>];</span><br><span class="line">    <span class="type">int</span> N, V;</span><br><span class="line">    cin &gt;&gt; N &gt;&gt; V;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; ++i)&#123;</span><br><span class="line">        <span class="type">int</span> v, w, s;</span><br><span class="line">        cin &gt;&gt; v &gt;&gt; w &gt;&gt; s;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">memcpy</span>(g, dp, <span class="keyword">sizeof</span> dp);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; v; ++j)&#123;<span class="comment">//枚举余数即等价类</span></span><br><span class="line">            <span class="type">int</span> head = <span class="number">0</span>, tail = <span class="number">-1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = j; k &lt;= V; k += v)&#123;<span class="comment">//枚举同一等价类的背包体积</span></span><br><span class="line">                <span class="keyword">if</span>(head &lt;= tail &amp;&amp; k - s * v &gt; q[head])<span class="comment">//当前编号-队列最大容积（间隔v 容积s * v）＞首元素，则需将首元素出队</span></span><br><span class="line">                    ++head;<span class="comment">//要维护一个不超过s的集合。</span></span><br><span class="line">                <span class="keyword">while</span>(head &lt;= tail &amp;&amp; g[q[tail]] - (q[tail] - j) / v * w &lt;= g[k] - (k -  j) / v * w)</span><br><span class="line">                    --tail;<span class="comment">//分别表示队尾元素的值和当前元素的值  f[0]</span></span><br><span class="line">                  </span><br><span class="line">                <span class="keyword">if</span>(head &lt;= tail)<span class="comment">//      dp[i - 1] </span></span><br><span class="line">                    dp[k] = <span class="built_in">max</span>(dp[k], g[q[head]] + (k - q[head]) / v * w);</span><br><span class="line">                                                          <span class="comment">//f[v] - 1 * w  f[2v] - 2 * w</span></span><br><span class="line">                q[++tail] = k;<span class="comment">//k个 去除了比当前小的元素，保证队列里的元素都比当前元素大，入队</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; dp[V] &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="混合背包"><a href="#混合背包" class="headerlink" title="混合背包"></a>混合背包</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">int</span> v, w, flag;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">vector&lt;node&gt; ve;</span><br><span class="line"><span class="type">int</span> dp[<span class="number">1005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> n, m;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)&#123;</span><br><span class="line">        <span class="type">int</span> v, w, s;</span><br><span class="line">        cin &gt;&gt; v &gt;&gt; w &gt;&gt; s;</span><br><span class="line">        <span class="keyword">if</span>(s &lt;= <span class="number">0</span>)</span><br><span class="line">            ve.<span class="built_in">push_back</span>(&#123;v, w, s&#125;);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">int</span> k;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">1</span>; k &lt;= s; k *= <span class="number">2</span>)&#123;</span><br><span class="line">                s -= k;</span><br><span class="line">                ve.<span class="built_in">push_back</span>(&#123;v * k, w * k, <span class="number">-1</span>&#125;);<span class="comment">//拆成01</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(s &gt; <span class="number">0</span>)</span><br><span class="line">                ve.<span class="built_in">push_back</span>(&#123;v * s, w * s, <span class="number">-1</span>&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> w: ve)&#123;</span><br><span class="line">        <span class="keyword">if</span>(w.flag &lt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = m; j &gt;= w.v; --j)&#123;</span><br><span class="line">                dp[j] = <span class="built_in">max</span>(dp[j], dp[j - w.v] + w.w);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = w.v; j &lt;= m; ++j)&#123;</span><br><span class="line">                dp[j]= <span class="built_in">max</span>(dp[j], dp[j - w.v] + w.w);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; dp[m];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/bag/" data-id="clnubd3uh000364u23g9xb1gq" data-title="bag" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">September 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/undefined/pj1/">项目面试1</a>
          </li>
        
          <li>
            <a href="/undefined/vue3.2%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E5%BF%83%E5%BE%97/">树的中/后序遍历（简易）</a>
          </li>
        
          <li>
            <a href="/undefined/vue%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA%E8%BF%87%E7%A8%8B/">vue项目的创建过程</a>
          </li>
        
          <li>
            <a href="/undefined/joisc2014/">2882. 「JOISC 2014 Day4」两个人的星座</a>
          </li>
        
          <li>
            <a href="/undefined/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 桉念<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>