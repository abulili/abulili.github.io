<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>nuâˆ-è®°å½•</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="nuâˆ-è®°å½•">
<meta property="og:url" content="http://example.com/page/3/index.html">
<meta property="og:site_name" content="nuâˆ-è®°å½•">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="æ¡‰å¿µ">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="nuâˆ-è®°å½•" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">nuâˆ-è®°å½•</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-å­—ç¬¦ä¸²" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/%E5%AD%97%E7%AC%A6%E4%B8%B2/" class="article-date">
  <time class="dt-published" datetime="2022-02-11T16:00:00.000Z" itemprop="datePublished">2022-02-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/%E5%AD%97%E7%AC%A6%E4%B8%B2/">å­—ç¬¦ä¸²</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/description/1462/">ğŸ”—</a></p>
<p>ç±»ä¼¼äºå­—ç¬¦ä¸²åŒ¹é…</p>
<blockquote>
<p>æœ€å°çš„ K çš„å€¼ï¼Œä½¿å¾—ä»–æŸ¥çœ‹ä»»æ„è¿ç»­ K ä¸ªé‚®ç®±åºåˆ—ï¼Œå¯ä»¥å”¯ä¸€ç¡®å®šè¿™ä¸€åºåˆ—åœ¨é“è·¯ä¸Šçš„ä½ç½®ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‡è®¾æ²¿è·¯çš„é‚®ç®±åºåˆ—ä¸º <code>ABCDABC</code> ã€‚ &#x3D;&#x3D;&gt; 4 ABCD  éº»çƒ¦çš„æ˜¯ rrabcrraè¿™ç§</p>
</blockquote>
<ul>
<li>setå³å¯è§£å†³ï¼Œæš´åŠ›ï¼Œå…³é”®set.size() &#x3D;&#x3D; num</li>
<li>ä»1å¼€å§‹æš´åŠ›å¾ªç¯ï¼Œå› ä¸ºæ˜¯é•¿åº¦</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/%E5%AD%97%E7%AC%A6%E4%B8%B2/" data-id="clnx7gbvv000jm4u2cht20tmo" data-title="å­—ç¬¦ä¸²" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-æ˜“é”™ç‚¹" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/%E6%98%93%E9%94%99%E7%82%B9/" class="article-date">
  <time class="dt-published" datetime="2022-02-01T16:00:00.000Z" itemprop="datePublished">2022-02-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/%E6%98%93%E9%94%99%E7%82%B9/">æ˜“é”™ç‚¹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>å‡ºç°æ­»å¾ªç¯è¿˜å¯èƒ½æ˜¯if elseå·®æƒ…å†µåˆ¤æ–­</p>
<p>ä¸å¼€long longæ­»å¾—ä¸æ˜ä¸ç™½</p>
<p>string sæ¯”å¤§å°å¿…é¡»æ˜¯ä¸¤æ­¥</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (s.<span class="built_in">size</span>() &gt; temp.<span class="built_in">size</span>())		temp = s, max = cnt;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(s.<span class="built_in">size</span>() == temp.<span class="built_in">size</span>() &amp;&amp; s &gt; temp)		temp = s, max = cnt;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/%E6%98%93%E9%94%99%E7%82%B9/" data-id="clnx7gbvx000nm4u2cnsb35i8" data-title="æ˜“é”™ç‚¹" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-çº¿æ®µæ ‘åšé¢˜æ€»ç»“" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%81%9A%E9%A2%98%E6%80%BB%E7%BB%93/" class="article-date">
  <time class="dt-published" datetime="2022-02-01T16:00:00.000Z" itemprop="datePublished">2022-02-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%81%9A%E9%A2%98%E6%80%BB%E7%BB%93/">çº¿æ®µæ ‘åšé¢˜æ€»ç»“</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>çº¿æ®µæ ‘çš„<strong>æœ¬è´¨</strong> ï¼š æŸ¥è¯¢ + ä¿®æ”¹	<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P4588"> [TJOI2018]æ•°å­¦è®¡ç®— </a>   æŠ½è±¡é—®é¢˜</p>
<p>ä¸æ˜¯æ‰€æœ‰å‡½æ•°éƒ½å¿…é¡»ç”¨ä¸Š</p>
<p>ä¸ä¸€å®šè¦åœ¨æ‰€æœ‰è¾“å…¥å®Œä¹‹åæ‰å»ºæ ‘</p>
<p>ä¿®æ”¹ä¸€èˆ¬æ˜¯åœ¨ add[q] <strong>&#x2F;</strong> tree[q];</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%81%9A%E9%A2%98%E6%80%BB%E7%BB%93/" data-id="clnx7gbw3000tm4u2dbu20fp1" data-title="çº¿æ®µæ ‘åšé¢˜æ€»ç»“" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-æ ‘çŠ¶æ•°ç»„æ˜“é”™ç‚¹æ€»ç»“" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84%E6%98%93%E9%94%99%E7%82%B9%E6%80%BB%E7%BB%93/" class="article-date">
  <time class="dt-published" datetime="2022-01-31T16:00:00.000Z" itemprop="datePublished">2022-02-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84%E6%98%93%E9%94%99%E7%82%B9%E6%80%BB%E7%BB%93/">æ ‘çŠ¶æ•°ç»„ ã€çº¿æ®µæ ‘æ€»ç»“</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/1267/">æ•°æ˜Ÿæ˜Ÿ</a></p>
<p>æ­¥éª¤ï¼š</p>
<p><strong>lowbit(int x)</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> x &amp; (-x);</span><br><span class="line">å…³é”®åœ¨äºéœ€è¦è·³ç€å»æ‰¾ä¸Šä¸€æ­¥çš„ä¸œè¥¿</span><br></pre></td></tr></table></figure>

<p><strong>updata(int i, int val)</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(i &lt;= n)&#123;   <span class="comment">//è¿™é‡Œå¯èƒ½æ˜¯ i &lt; maxnï¼Œacwingæ•°æ˜Ÿæ˜Ÿï¼Œåæ ‡ï¼Œä»0å¼€å§‹çš„ï¼ˆè®°å¾—x++ï¼‰</span></span><br><span class="line">        C[i] += val;</span><br><span class="line">        i += <span class="built_in">lowbit</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ç›´æ¥ä¼ </span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> x = i;</span><br><span class="line"><span class="keyword">while</span>(i &lt;= n)&#123;</span><br><span class="line">   sum1[i] += val;</span><br><span class="line">   sum2[i] += val;</span><br><span class="line">   i += <span class="built_in">lowbit</span>(i);</span><br><span class="line">&#125;</span><br><span class="line">cin &gt;&gt; a[i];</span><br><span class="line"><span class="built_in">updata</span>(i, a[i] - a[i - <span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line"><span class="built_in">updata</span>(x, k);<span class="comment">//a[x] - a[x - 1] åŠ  k</span></span><br><span class="line"><span class="built_in">updata</span>(y + <span class="number">1</span>, -k); <span class="comment">//a[y + 1] - a[y] å‡ k</span></span><br></pre></td></tr></table></figure>

<p><strong>sum(int i)</strong></p>
<p>â€‹			 	  sum(y) - sum(x - 1);  è¡¨ç¤ºç›®æ ‡å€¼å°äºç­‰äºiçš„å‰ç¼€å’Œ</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(i &gt; <span class="number">0</span>)&#123;</span><br><span class="line">   sum += C[i];</span><br><span class="line">   i -= <span class="built_in">lowbit</span>(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> sum = <span class="number">0</span>, x = i;</span><br><span class="line"><span class="keyword">while</span>(i &gt; <span class="number">0</span>)&#123;</span><br><span class="line">   sum += x * sum1[i] - sum2[i];</span><br><span class="line">   i -= <span class="built_in">lowbit</span>(i);       </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”</strong></p>
<p>æ¯ä¸ªåŒºé—´[L,R]éƒ½åˆ†è§£ä¸ºå°‘é‡ç‰¹å®šçš„å­åŒºé—´ï¼Œé€šè¿‡è¿™äº›å°‘é‡å­åŒºé—´çš„ä¿®æ”¹æˆ–ç»Ÿè®¡æ¥å®ç°æ“ä½œ</p>
<ul>
<li><p>å…¨éƒ¨éƒ½æ˜¯ä»1å¼€å§‹ï¼ï¼ï¼</p>
</li>
<li><p>å®ƒè¦1e5ï¼Œæ•°ç»„å…¨å¼€4 * 1e5ï¼›</p>
</li>
<li><p>å¦‚æœæ„Ÿè§‰æ—¶é—´ä¼šè¢«å¡å¯ä»¥å°†*2çš„æ“ä½œæ”¹ä¸º&lt;&lt;1 ï¼Œ +1æ”¹ä¸º|1</p>
</li>
<li><p>è®°å¾—å¼€long long</p>
</li>
<li><p>ä¸€èˆ¬1e5, 1e6æ˜¯æé™ï¼Œscanfæ‰èƒ½è¿‡</p>
<p><strong>build(int node, int start, int end)</strong></p>
</li>
</ul>
<p>â€‹																			æ ¹æ®æ•°ç»„åœ¨é‚£ä¸ªç‚¹é€’å½’æ„é€ æ ‘ï¼ŒåŒæ—¶æŠŠadd[]åˆå§‹ä¸º0</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(start == end)&#123;</span><br><span class="line">       tree[node] = a[start];<span class="comment">//æ³¨æ„ä¸‹æ ‡</span></span><br><span class="line">       add[node] = <span class="number">0</span>;<span class="comment">//</span></span><br><span class="line">       <span class="keyword">return</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="type">int</span> mid = (start + end) / <span class="number">2</span>;</span><br><span class="line">   <span class="type">int</span> left = <span class="number">2</span> * node + <span class="number">1</span>;</span><br><span class="line">   <span class="type">int</span> right = <span class="number">2</span> * node + <span class="number">2</span>;</span><br><span class="line">   <span class="built_in">build</span>(left, start, mid);</span><br><span class="line">   <span class="built_in">build</span>(right, mid + <span class="number">1</span>, end);</span><br><span class="line"></span><br><span class="line">   tree[node] = tree[left] + tree[right];<span class="comment">//æ›´æ–° pushup</span></span><br><span class="line">   add[node] = <span class="number">0</span>;<span class="comment">//</span></span><br></pre></td></tr></table></figure>

<p><strong>updata1(int i, int l, int r,int set, int num)</strong></p>
<p>â€‹																				å•ç‚¹ä¿®æ”¹ï¼Œä¸ç”¨add[]</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(l == set &amp;&amp; r == set) &#123;</span><br><span class="line">       tree[i] += num;</span><br><span class="line">       <span class="keyword">return</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="type">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">   <span class="keyword">if</span>(mid &gt;= set)</span><br><span class="line">       <span class="built_in">updata1</span>(i * <span class="number">2</span> + <span class="number">1</span>, l, mid, set, num);</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">       <span class="built_in">updata1</span>(i * <span class="number">2</span> + <span class="number">2</span>, mid + <span class="number">1</span>, r, set, num);</span><br><span class="line">   tree[i] = tree[i * <span class="number">2</span> + <span class="number">1</span>] + tree[i * <span class="number">2</span> + <span class="number">2</span>];</span><br></pre></td></tr></table></figure>

<p><strong>pushdown(int k, int l, int r)</strong>														å°†è¦æ”¹å˜çš„ç»“ç‚¹å‘ä¸‹ä¼ é€’</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">   add[<span class="number">2</span> * k + <span class="number">1</span>] += add[k];<span class="comment">//ä»–å¯èƒ½ä¸åªç»§æ‰¿ä¸€ä¸ªæ ‡è®°</span></span><br><span class="line">tree[<span class="number">2</span> * k + <span class="number">1</span>] += (mid - l + <span class="number">1</span>) * add[k]; <span class="comment">//åŠ ä¸Šä¸‹é¢é‚£ç¾¤å¢åŠ çš„æ•°ï¼Œæ¯•ç«Ÿå®ƒä»£è¡¨çš„æ˜¯åŒºé—´å’Œ</span></span><br><span class="line"></span><br><span class="line">   add[<span class="number">2</span> * k + <span class="number">2</span>] += add[k];</span><br><span class="line">   tree[<span class="number">2</span> * k + <span class="number">2</span>] += (r - mid) * add[k];</span><br><span class="line"></span><br><span class="line">   add[k] = <span class="number">0</span>;<span class="comment">//ä½¿å‘½å®Œæˆï¼Œæ¶ˆå»æ ‡è®°</span></span><br></pre></td></tr></table></figure>

<p><strong>updata2(int q,int l,int r,int tl,int tr,int num)</strong>							å¯¹åŒºé—´è¿›è¡Œæ“ä½œ</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(l&gt;=tl&amp;&amp;r&lt;=tr)&#123;</span><br><span class="line">     tree[q] += num * (r - l + <span class="number">1</span>);</span><br><span class="line">     add[q] += num;</span><br><span class="line">     <span class="keyword">return</span>;	</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(add[q])              <span class="comment">//é™¤äº†è¿™ä¸€æ­¥å’Œä¸Šé¢é‚£ä¸€æ­¥ï¼Œå…¶ä½™éƒ½ç›¸åŒ æ¯•ç«Ÿåªæ˜¯å¼•å…¥äº†addè¿™ä¸ªæ¦‚å¿µ</span></span><br><span class="line">   <span class="built_in">pushdown</span>(q, l, r);</span><br><span class="line">   <span class="type">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">   <span class="keyword">if</span>(tl&lt;=mid)</span><br><span class="line">       <span class="built_in">updata2</span>(q * <span class="number">2</span> + <span class="number">1</span>, l, mid, tl, tr, num);</span><br><span class="line">   <span class="keyword">if</span>(tr&gt;mid)</span><br><span class="line">       <span class="built_in">updata2</span>(q * <span class="number">2</span> + <span class="number">2</span>, mid + <span class="number">1</span>, r, tl, tr, num);</span><br><span class="line">tree[q] = tree[q * <span class="number">2</span> + <span class="number">1</span>] + tree[q * <span class="number">2</span> + <span class="number">2</span>];</span><br></pre></td></tr></table></figure>

<p><strong>query(int q, int l, int r, int tl, int tr)</strong>												é€’å½’ query [tl, tr]</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(tl &lt;= l &amp;&amp; r &lt;= tr)</span><br><span class="line">       <span class="keyword">return</span> tree[q];</span><br><span class="line">   <span class="keyword">if</span>(add[q])              <span class="comment">//</span></span><br><span class="line">       <span class="built_in">pushdown</span>(q, l, r);</span><br><span class="line">   <span class="type">int</span> mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">   <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">   <span class="keyword">if</span>(tl &lt;= mid)<span class="comment">//midå†³å®šäº†å®ƒåœ¨å“ªè¾¹æ‰¾</span></span><br><span class="line">       sum += <span class="built_in">query</span>(q * <span class="number">2</span> + <span class="number">1</span>, l, mid, tl, tr);</span><br><span class="line">   <span class="keyword">if</span>(tr &gt; mid)</span><br><span class="line">       sum += <span class="built_in">query</span>(q * <span class="number">2</span> + <span class="number">2</span>, mid + <span class="number">1</span>, r, tl, tr);</span><br><span class="line">   <span class="keyword">return</span> sum;</span><br></pre></td></tr></table></figure>

<h4 id="çº¿æ®µæ ‘ä¹˜æ³•ï¼Œ-ä¸ä¹‹å‰æœ‰è¾ƒå¤§å·®åˆ«"><a href="#çº¿æ®µæ ‘ä¹˜æ³•ï¼Œ-ä¸ä¹‹å‰æœ‰è¾ƒå¤§å·®åˆ«" class="headerlink" title="çº¿æ®µæ ‘ä¹˜æ³•ï¼Œ ä¸ä¹‹å‰æœ‰è¾ƒå¤§å·®åˆ«"></a>çº¿æ®µæ ‘ä¹˜æ³•ï¼Œ ä¸ä¹‹å‰æœ‰è¾ƒå¤§å·®åˆ«</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ll tree[Maxn&lt;&lt;2],mul[Maxn&lt;&lt;2],add[Maxn&lt;&lt;2],a[Maxn]</span><br></pre></td></tr></table></figure>

<p><strong>build(ll p,ll l,ll r)</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ll m=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(l==r)</span><br><span class="line">&#123;</span><br><span class="line">	tree[p]=a[l];<span class="comment">//tr[p]=leaf[r];</span></span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">build</span>(p&lt;&lt;<span class="number">1</span>,l,m);</span><br><span class="line"><span class="built_in">build</span>(p&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,m+<span class="number">1</span>,r);</span><br><span class="line">tree[p]=tree[p&lt;&lt;<span class="number">1</span>]+tree[p&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</span><br><span class="line">tree[p]%=md;</span><br><span class="line">mul[p]=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br></pre></td></tr></table></figure>

<p><strong>pushdown(ll p,ll l,ll r)</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ll m=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">tree[p&lt;&lt;<span class="number">1</span>]=(tree[p&lt;&lt;<span class="number">1</span>]*mul[p]+add[p]*(m-l+<span class="number">1</span>))%md;<span class="comment">//å‘å·¦å„¿å­ä¼ ç»“æœ</span></span><br><span class="line">tree[p&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=(tree[p&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]*mul[p]+add[p]*(r-m))%md;<span class="comment">//å‘å³å„¿å­ä¼ ç»“æœ</span></span><br><span class="line"></span><br><span class="line">mul[p&lt;&lt;<span class="number">1</span>]=(mul[p&lt;&lt;<span class="number">1</span>]*mul[p])%md;<span class="comment">//å‘å·¦å„¿å­ä¼ ä¹˜æ³•tag</span></span><br><span class="line">mul[p&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=(mul[p&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]*mul[p])%md;<span class="comment">//å‘å³å„¿å­ä¼ ä¹˜æ³•tag</span></span><br><span class="line"></span><br><span class="line">add[p&lt;&lt;<span class="number">1</span>]=(add[p&lt;&lt;<span class="number">1</span>]*mul[p]+add[p])%md;<span class="comment">//å‘å·¦å„¿å­ä¼ åŠ æ³•tag</span></span><br><span class="line">add[p&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]=(add[p&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]*mul[p]+add[p])%md;<span class="comment">//å‘å³å„¿å­ä¼ åŠ æ³•tag</span></span><br><span class="line"></span><br><span class="line">mul[p]=<span class="number">1</span>;</span><br><span class="line">add[p]=<span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<p><strong>updmul(ll p,ll l,ll r,ll tl,ll tr,ll k)</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(tr&lt;l||tl&gt;r)<span class="keyword">return</span>;<span class="comment">//è‹¥ä¸åœ¨æ­¤åŒºé—´å°±è¿”å›ä¸Šä¸€å±‚ï¼Œä¸‹åŒ</span></span><br><span class="line"><span class="keyword">if</span>(tl&lt;=l&amp;&amp;tr&gt;=r)</span><br><span class="line">&#123;</span><br><span class="line">	tree[p]=(tree[p]*k)%md;</span><br><span class="line">	mul[p]=(mul[p]*k)%md;</span><br><span class="line">	add[p]=(add[p]*k)%md;</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">pushdown</span>(p,l,r);</span><br><span class="line">ll m=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line"><span class="built_in">updmul</span>(p&lt;&lt;<span class="number">1</span>,l,m,tl,tr,k);<span class="comment">//ä¸åŒä¹‹å¤„</span></span><br><span class="line"><span class="built_in">updmul</span>(p&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,m+<span class="number">1</span>,r,tl,tr,k);</span><br><span class="line">tree[p] = (tree[p &lt;&lt; <span class="number">1</span>] + tree[p &lt;&lt; <span class="number">1</span> | <span class="number">1</span>]) % md;</span><br></pre></td></tr></table></figure>

<p><strong>updadd(ll p,ll l,ll r,ll tl,ll tr,ll k)</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(tl&gt;r||tr&lt;l)<span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">if</span>(tl&lt;=l&amp;&amp;tr&gt;=r)</span><br><span class="line">&#123;</span><br><span class="line">	tree[p]=(tree[p]+(r-l+<span class="number">1</span>)*k)%md;</span><br><span class="line">	add[p]=(add[p]+k)%md;</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">pushdown</span>(p,l,r);</span><br><span class="line">ll m=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line"><span class="built_in">updadd</span>(p&lt;&lt;<span class="number">1</span>,l,m,tl,tr,k);</span><br><span class="line"><span class="built_in">updadd</span>(p&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,m+<span class="number">1</span>,r,tl,tr,k);</span><br><span class="line">tree[p] = (tree[p &lt;&lt; <span class="number">1</span>] + tree[p &lt;&lt; <span class="number">1</span> | <span class="number">1</span>]) % md;</span><br></pre></td></tr></table></figure>

<p><strong>query(ll p,ll l,ll r,ll tl,ll tr)</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(tl&gt;r||tr&lt;l)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span>(tl&lt;=l&amp;&amp;tr&gt;=r)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">return</span> tree[p];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">pushdown</span>(p,l,r);</span><br><span class="line">ll m=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> (<span class="built_in">query</span>(p&lt;&lt;<span class="number">1</span>,l,m,tl,tr)+<span class="built_in">query</span>(p&lt;&lt;<span class="number">1</span>|<span class="number">1</span>,m+<span class="number">1</span>,r,tl,tr))%md;</span><br></pre></td></tr></table></figure>

<p>åŒºé—´æœ€å¤§å€¼åªä¿®æ”¹ä¸ºmaxå³å¯ï¼Œæ³¨æ„å¦‚æœæ˜¯ä¸è¶…è¿‡2^31 - 1,sumå°±ç­‰äºè¿™ä¸ªæ•°å–max **&#x2F;**INT_MIN(climits)</p>
<h3 id="zkwçº¿æ®µæ ‘"><a href="#zkwçº¿æ®µæ ‘" class="headerlink" title="zkwçº¿æ®µæ ‘"></a>zkwçº¿æ®µæ ‘</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84%E6%98%93%E9%94%99%E7%82%B9%E6%80%BB%E7%BB%93/" data-id="clnx7gbvz000pm4u2brgt3586" data-title="æ ‘çŠ¶æ•°ç»„ ã€çº¿æ®µæ ‘æ€»ç»“" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ç´ æ•°ç­›" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/%E7%B4%A0%E6%95%B0%E7%AD%9B/" class="article-date">
  <time class="dt-published" datetime="2022-01-21T16:00:00.000Z" itemprop="datePublished">2022-01-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/%E7%B4%A0%E6%95%B0%E7%AD%9B/">ç´ æ•°ç­›</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> p[maxx];</span><br><span class="line"><span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="type">bool</span> prime[maxx];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ola</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    prime[<span class="number">0</span>] = prime[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt; maxx; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!prime[i])</span><br><span class="line">            p[++cnt] = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= cnt &amp;&amp; i * p[j] &lt; maxx; ++j) &#123;</span><br><span class="line">            prime[i * p[j]] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % p[j] == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/%E7%B4%A0%E6%95%B0%E7%AD%9B/" data-id="clnx7gbw2000rm4u2btb60ya2" data-title="ç´ æ•°ç­›" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-æ•°æ®åº“" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/%E6%95%B0%E6%8D%AE%E5%BA%93/" class="article-date">
  <time class="dt-published" datetime="2022-01-05T16:00:00.000Z" itemprop="datePublished">2022-01-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/%E6%95%B0%E6%8D%AE%E5%BA%93/">mysqlæ€»ç»“</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Show databases;</span><br><span class="line">information_schema:å­˜å‚¨ç³»ç»Ÿä¸­æ•°æ®åº“å¯¹è±¡ä¿¡æ¯</span><br><span class="line">Mysql:å­˜å‚¨è´¦æˆ·ä¿¡æ¯ã€æƒé™ä¿¡æ¯ã€æ—¶åŒºä¿¡æ¯</span><br><span class="line">Pre_formance_schema:æ”¶é›†æ•°æ®åº“æœåŠ¡å™¨æ€§èƒ½å‚æ•°</span><br><span class="line">sysï¼šé€šè¿‡è§†å›¾å°†information_schemaå’ŒPre_formance_schemaç»“åˆèµ·æ¥ï¼ŒæŸ¥è¯¢å‡ºæ›´å®¹æ˜“ç†è§£çš„æ•°æ®</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">create database jwgl;</span><br><span class="line">use jwgl;</span><br></pre></td></tr></table></figure>

<p><strong>ä¿®æ”¹æ•°æ®åº“:</strong> </p>
<p> ä¿®æ”¹å·²ç»è¢«åˆ›å»ºæˆ–è€…å­˜åœ¨çš„æ•°æ®åº“ç›¸å…³å‚æ•°ï¼Œæ›´æ”¹å…¨å±€ç‰¹æ€§</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alter database jwgl;/ alter schema</span><br><span class="line">default character set gb312;æŒ‡å®šå­—ç¬¦é›†ä¿®æ”¹</span><br><span class="line">default collate gb2312_chinese_ci;é»˜è®¤æ ¡å¯¹è§„åˆ™</span><br></pre></td></tr></table></figure>

<p><strong>åˆ é™¤æ•°æ®åº“</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop database jwgl;</span><br></pre></td></tr></table></figure>

<hr>
<p>æ•°æ®ç±»å‹ï¼š</p>
<table>
<thead>
<tr>
<th>tinyint</th>
<th>8å­—èŠ‚</th>
<th>-128-127</th>
</tr>
</thead>
<tbody><tr>
<td>smallint</td>
<td>2</td>
<td>-32768-32767</td>
</tr>
<tr>
<td>mediumint</td>
<td>3</td>
<td>8e6</td>
</tr>
<tr>
<td>int</td>
<td>4</td>
<td>2e9</td>
</tr>
<tr>
<td>bigint</td>
<td>8</td>
<td>9e18</td>
</tr>
</tbody></table>
<p>å°æ•°ç±»å‹ï¼š</p>
<table>
<thead>
<tr>
<th>float</th>
<th>4</th>
<th>å•ç²¾åº¦æµ®ç‚¹æ•°</th>
</tr>
</thead>
<tbody><tr>
<td>double</td>
<td>8</td>
<td>åŒç²¾åº¦æµ®ç‚¹æ•°</td>
</tr>
<tr>
<td>decimal (m,d), dec</td>
<td>m + 2</td>
<td>å‹ç¼©çš„â€œä¸¥æ ¼â€å®šç‚¹æ•°</td>
</tr>
</tbody></table>
<p>æ—¶é—´&#x2F;æ—¥æœŸç±»å‹ï¼š</p>
<table>
<thead>
<tr>
<th>year</th>
<th>1</th>
<th>YYYY</th>
</tr>
</thead>
<tbody><tr>
<td>time</td>
<td>3</td>
<td>HH:MM:SS</td>
</tr>
<tr>
<td>date</td>
<td>3</td>
<td>YYYY-MM-DD</td>
</tr>
<tr>
<td>datetime</td>
<td>8</td>
<td>YYYY-MM-DD HH:MM:SS</td>
</tr>
<tr>
<td>timestamp</td>
<td>4</td>
<td>YYYY-MM-DD HH:MM:SS</td>
</tr>
</tbody></table>
<p>å­—ç¬¦ä¸²ç±»å‹ï¼š</p>
<table>
<thead>
<tr>
<th>char</th>
<th>m[1,255]</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>varchar</td>
<td>l+1 l[1,255]</td>
<td>å›ºå®šé•¿åº¦</td>
</tr>
<tr>
<td>tinyetext</td>
<td>l+1 l&lt;2^8</td>
<td>å˜é•¿</td>
</tr>
<tr>
<td>text</td>
<td>l+2 l&lt;2^16</td>
<td>éå¸¸å°</td>
</tr>
<tr>
<td>mediumtext</td>
<td>l+3 l&lt;2^24</td>
<td>ä¸­ç­‰å¤§å°</td>
</tr>
<tr>
<td>longtext</td>
<td>l+4 l&lt;2^32</td>
<td>å¤§çš„</td>
</tr>
<tr>
<td>enum</td>
<td>1æˆ–2ï¼Œå–å†³äºæšä¸¾å€¼çš„æ•°ç›®ï¼ˆæœ€å¤§å€¼ä¸º65535ï¼‰</td>
<td>æšä¸¾ç±»å‹ï¼Œåªèƒ½æœ‰ä¸€ä¸ªæšä¸¾å­—ç¬¦ä¸²å€¼</td>
</tr>
<tr>
<td>set</td>
<td>1ã€2ã€3ã€4ã€8,å–å†³äºé›†åˆæˆå‘˜çš„æ•°é‡ï¼ˆæœ€å¤š64ï¼‰</td>
<td>ä¸€ä¸ªè®¾ç½®ï¼Œå­—ç¬¦ä¸²å¯¹è±¡å¯ä»¥æœ‰0ä¸ªæˆ–å¤šä¸ªsetæˆå‘˜</td>
</tr>
</tbody></table>
<p>äºŒè¿›åˆ¶ç±»å‹ï¼š</p>
<table>
<thead>
<tr>
<th>bit</th>
<th>(m + 7) &#x2F; 8</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>binary</td>
<td>m</td>
<td></td>
</tr>
<tr>
<td>varbinary</td>
<td>m+1</td>
<td></td>
</tr>
<tr>
<td>tinyblob</td>
<td>l+1 l&lt;28</td>
<td></td>
</tr>
<tr>
<td>blob</td>
<td>l+1 l&lt;216</td>
<td></td>
</tr>
<tr>
<td>mediumblob</td>
<td>l+2 l&lt;224</td>
<td></td>
</tr>
<tr>
<td>longblob</td>
<td>l+4 l&lt;232</td>
<td></td>
</tr>
</tbody></table>
<p><strong>åˆ›å»ºæ•°æ®åº“è¡¨ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create table stu(</span><br><span class="line">	sno æ•°æ®ç±»å‹ çº¦æŸæ¡ä»¶</span><br><span class="line">)engine=innodb å­˜å‚¨å¼•æ“æ˜¯innodb</span><br><span class="line">åˆ›å»º/å¤åˆ¶æ•°æ®åº“è¡¨</span><br><span class="line">create table stu like xsjbxxb;stuç»“æœå’Œxsjbxxbç›¸åŒ(like å¤åˆ¶è¡¨çš„ç»“æ„)</span><br><span class="line">create table stu select* from xsjbxxb;å®Œå…¨ç›¸åŒ</span><br></pre></td></tr></table></figure>

<p><strong>æŸ¥çœ‹è¡¨ç»“æ„(desc)</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">describe xsjbxxb;</span><br></pre></td></tr></table></figure>

<p><strong>æŸ¥çœ‹å»ºè¡¨è¯­å¥ï¼ˆå˜é‡ï¼‰</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show create table xsjbxxb;</span><br></pre></td></tr></table></figure>

<p><strong>ä¿®æ”¹æ•°æ®åº“è¡¨</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">alter table stu [addå•Šä¹‹ç±»çš„] æ”¹å˜è¡¨åŸæœ‰çš„ç»“æ„</span><br><span class="line"></span><br><span class="line">alter table stu add column tel int(11);æ·»åŠ ä¸€ä¸ªint tel</span><br><span class="line">alter table stu modify tel varchar(8); æŠŠint telæ”¹ä¸ºvarchar tel</span><br><span class="line">alter table stu drop tel; </span><br><span class="line">alter table stu change tel tell int;ä¿®æ”¹å­—æ®µåç§°varchar tel-&gt;int tell</span><br><span class="line">alter table stu rename stuu; ä¿®æ”¹è¡¨å</span><br></pre></td></tr></table></figure>

<p><strong>åˆ é™¤è¡¨</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop table [if exists] stu;</span><br></pre></td></tr></table></figure>

<p><strong>è¡¨è®°å½•çš„æ’å…¥</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">insert into stu[(è¡Œçš„åç§°)] values(å…·ä½“æ•°å€¼);</span><br><span class="line">æŒ‡å®šå­—æ®µåŠå…¶å¯¹åº”çš„å€¼æ—¶ï¼Œå­—æ®µå¯ä»¥ä¸æŒ‰ç…§è¡¨ä¸­å­—æ®µçš„é¡ºåºæ’åˆ—ï¼Œä½†å­—æ®µ å’Œå€¼è¦ä¸€ä¸€å¯¹åº”</span><br><span class="line">ä¸æŒ‡å®šæ—¶ï¼Œå€¼çš„é¡ºåºå¿…é¡»å’Œè¡¨ä¸­é¡ºåºå®Œå…¨ä¸€æ ·</span><br><span class="line">insert into stu values(å…·ä½“æ•°å€¼)ï¼Œ(å…·ä½“æ•°å€¼);åŒæ—¶æ’å…¥å¤šæ¡æ•°æ®</span><br><span class="line">insert into stu(å­—æ®µåˆ—è¡¨) select (xsjbxxbçš„å­—æ®µåˆ—è¡¨) from xsjbxxb [where 2çš„=xxx];å°†å…¶ä»–è¡¨çš„æ•°æ®æ’å…¥è¡¨ä¸­</span><br></pre></td></tr></table></figure>

<p><strong>è¡¨è®°å½•çš„ä¿®æ”¹</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update stu set xb = &#x27;ç”·&#x27; where xm = &#x27;å¼ ä¸‰&#x27;;æŠŠæ‰€æœ‰å§“åä¸ºå¼ ä¸‰çš„å­¦ç”Ÿæ€§åˆ«æ”¹ä¸ºç”·</span><br></pre></td></tr></table></figure>

<p><strong>è¡¨è®°å½•çš„åˆ é™¤</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">delete from stu [where xm = &#x27;å¼ ä¸‰&#x27;];åˆ é™¤stué‡Œçš„xmä¸ºå¼ ä¸‰çš„</span><br><span class="line"></span><br><span class="line">truncate table stu;åˆ é™¤stuè¡¨çš„å…¨éƒ¨æ•°æ®</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>ä¸»é”®çº¦æŸï¼š</strong></p>
<p>ä¸»é”®ï¼ˆä¸»ç ï¼‰ç”±è¡¨ä¸­çš„ä¸€ä¸ªå­—æ®µæˆ– å¤šä¸ªå­—æ®µç»„æˆï¼Œå¯ä»¥å”¯ä¸€çš„æ ‡è¯†è¡¨ä¸­çš„ä¸€æ¡è®°å½•ã€‚ä¸»é”®çš„å–å€¼ä¸èƒ½ä¸ºnullï¼Œä¸”å–å€¼å”¯ä¸€ï¼Œä¸èƒ½é‡å¤ï¼Œä»¥æ­¤ä¿è¯å®ä½“å®Œæ•´æ€§ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">åˆ›å»ºæ—¶ xm varchar(12) primary key;</span><br><span class="line">å¤åˆä¸»é”®ï¼Œåœ¨æœ«å°¾å®Œäº†å primary key(xm, xh)</span><br><span class="line"></span><br><span class="line">å¦‚æœçº¦æŸæ˜¯å¤šåˆ—å®šä¹‰çš„ï¼ŒæŸä¸ªåˆ—å€¼å¯ä»¥é‡å¤ï¼Œä½†è¿™å¤šåˆ—é‡Œæ‰€æœ‰åˆ—çš„ç»„åˆå€¼å¿…é¡»å”¯ä¸€</span><br><span class="line">å½“ä¸»é”®åªæœ‰ä¸€ä¸ªå­—æ®µæ—¶ï¼Œæ—¢å¯ä»¥å°†ä¸»é”®å®šä¹‰ä¸ºåˆ—çº§å®Œæ•´æ€§çº¦æŸï¼Œä¹Ÿèƒ½æ˜¯è¡¨çº§å®Œæ•´æ€§çº¦æŸï¼›å¤šä¸ªå­—æ®µåªèƒ½è¡¨çº§å®Œæ•´æ€§çº¦æŸ</span><br><span class="line"></span><br><span class="line">alter table stu modify xh varchar(12) not null primaty key;å¯¹äºå·²å­˜åœ¨çš„è¡¨</span><br><span class="line">alter table stu add primary(xm, xh);å¤åˆä¸»é”®</span><br><span class="line"></span><br><span class="line">alter table stu drop primary;åˆ é™¤ä¸»é”®çº¦æŸ</span><br></pre></td></tr></table></figure>

<p><strong>å¤–é”®çº¦æŸï¼š</strong></p>
<p>å¼•ç”¨å¦ä¸€ä¸ªè¡¨çš„ä¸€åˆ—æˆ–å¤šåˆ—ï¼Œè¢«å¼•ç”¨çš„åˆ—åº”è¯¥å…·æœ‰ä¸»é”®çº¦æŸæˆ–å”¯ä¸€æ€§çº¦æŸï¼ŒåŒ…å«å¤–é”®çš„è¡¨ç§°ä¸ºå­è¡¨ï¼Œï¼ˆçˆ¶è¡¨ï¼‰</p>
<ul>
<li>è¡¨åœ¨å¤–é”®ä¸Šçš„å–å€¼è¦ä¹ˆæ˜¯çˆ¶è¡¨ä¸­çš„æŸä¸ªä¸»é”®å€¼ï¼Œè¦ä¹ˆå–ç©ºå€¼ï¼Œä»¥æ­¤ä¿è¯ä¸¤ä¸ªè¡¨ä¹‹é—´çš„è¿æ¥ç¡®ä¿å®ä½“çš„å‚ç…§å®Œæ•´æ€§;å¦åˆ™ä¼šå¤±è´¥</li>
<li>ä¸»å±æ€§å­—æ®µåœ¨æ’å…¥æ—¶ï¼Œå­è¡¨ä¸å…è®¸æœ‰çˆ¶è¡¨æ²¡æœ‰çš„ã€‚</li>
</ul>
<p>refrences:å‚ç…§æ€§ï¼Œå®šä¹‰ä¸­åŒ…å«äº†å¤–é”®æ‰€å‚ç…§çš„è¡¨å’Œåˆ—</p>
<p>on  delete| on update:ä¸ºæ¯ä¸ªå¤–é”®å®šä¹‰å‚ç…§åŠ¨ä½œ</p>
<table>
<thead>
<tr>
<th>restrict</th>
<th>å½“åœ¨çˆ¶è¡¨ï¼ˆå³å¤–é”®çš„æ¥æºè¡¨ï¼‰ä¸­åˆ é™¤&#x2F;æ›´æ–°å¯¹åº”è®°å½•æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥è¯¥è®°å½•æ˜¯å¦æœ‰å¯¹åº”å¤–é”®ï¼Œå¦‚æœæœ‰åˆ™ä¸å…è®¸åˆ é™¤&#x2F;æ›´æ–°ã€‚</th>
</tr>
</thead>
<tbody><tr>
<td>casade</td>
<td>åˆ é™¤&#x2F;æ›´æ–° A è¡¨çš„æ•°æ®æ—¶ï¼Œå¯¹åº” B è¡¨çš„æ•°æ®ä¹Ÿä¼šåˆ é™¤&#x2F;æ›´æ–°ï¼›</td>
</tr>
<tr>
<td>set null</td>
<td>on delete set nullï¼šåˆ é™¤&#x2F;æ›´æ–° A è¡¨çš„æ•°æ®æ—¶ï¼Œå¯¹åº” B è¡¨çš„å¤–é”®å­—æ®µç½®ä¸ºç©ºï¼ˆå‰ææ˜¯è¯¥å­—æ®µå¯ä»¥ä¸ºç©ºï¼‰å¦‚æœæ·»åŠ å¤–é”®æ—¶æ²¡åŠ ä¸Šé¢å†…å®¹ï¼Œåˆ é™¤&#x2F;æ›´æ–° A è¡¨çš„æ•°æ®æ—¶ï¼Œå¦‚æœå¯¹åº” B è¡¨æœ‰æ•°æ®å°±ä¼šæŠ¥é”™ï¼›</td>
</tr>
<tr>
<td>no action</td>
<td>æ„æ€åŒrestrict.å³å¦‚æœå­˜åœ¨ä»æ•°æ®ï¼Œä¸å…è®¸åˆ é™¤&#x2F;æ›´æ–°ä¸»æ•°æ®ã€‚</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å»ºè¡¨æ—¶ï¼Œå°†å­¦å·è®¾ç½®ä¸ºå¤–é”®ï¼Œåœ¨æœ€å foreign key(xh) references xsjbxxb(xh);</span><br><span class="line">å·²å­˜åœ¨çš„è¡¨ alter table stu add foreign key(xh) references xsjbxxb(xh);</span><br><span class="line"></span><br><span class="line">åˆ é™¤å¤–é”®çº¦æŸ alter table stu drop foreign key å¤–é”®å;</span><br></pre></td></tr></table></figure>

<p>æŒ‡å®šå¤–é”®æ³¨æ„ç‚¹ï¼š</p>
<ol>
<li>å…ˆæœ‰çˆ¶è¡¨ï¼Œå†åˆ›å­è¡¨ã€‚æˆ–è€…æ˜¯å½“å‰æ­£åœ¨åˆ›å»ºçš„è¡¨ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå­è¡¨ï¼ˆå‚ç…§è¡¨ï¼‰ï¼Œè¢«å‚ç…§è¡¨å’Œå‚ç…§è¡¨æ˜¯åŒä¸€ä¸ªè¡¨ï¼Œè‡ªå‚ç…§å®Œæ•´æ€§ã€‚</li>
<li>å¿…é¡»ä¸ºçˆ¶è¡¨å®šä¹‰ä¸»é”®ï¼Œçˆ¶è¡¨ååæŒ‡å®šåˆ—åï¼Œè¿™ä¸ªåˆ—å¿…é¡»æ˜¯è¿™ä¸ªè¡¨çš„ä¸»é”®æˆ–å”¯ä¸€é”®</li>
<li>å¤–é”®ä¸­çš„åˆ—æ•°æ®ç±»å‹å¿…é¡»å’Œè¢«å‚ç…§è¡¨ä¸­çš„ä¸»é”®çš„åˆ—æ•°æ®ç±»å‹ä¸€è‡´æˆ–å…¼å®¹ï¼Œä¸”å«ä¹‰ä¸€æ ·</li>
</ol>
<p><strong>å”¯ä¸€æ€§çº¦æŸï¼š</strong></p>
<p>ä¿è¯è¡¨ä¸­å­—æ®µå–å€¼çš„å”¯ä¸€æ€§ï¼Œå¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªï¼Œä½¿å¾—å®ƒä»¬çš„å€¼åœ¨ä»»ä½•æ—¶å€™éƒ½æ˜¯å”¯ä¸€çš„</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å»ºè¡¨æ—¶ xm varchar(12) not null unique;</span><br><span class="line">		æˆ–è€… unique(xm,xh);</span><br><span class="line">å·²å­˜åœ¨ alter table stu modify xm varchar(12) not null unique;</span><br><span class="line"></span><br><span class="line">åˆ é™¤å”¯ä¸€æ€§çº¦æŸ alter table stu drop index xm;</span><br></pre></td></tr></table></figure>

<p>å”¯ä¸€é”®å’Œä¸»é”®çš„åŒºåˆ«ï¼š</p>
<ul>
<li>åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ï¼Œå¯ä»¥æœ‰å¤šä¸ªå”¯ä¸€é”®</li>
<li>ä¸»é”®ä¸èƒ½null,å”¯ä¸€é”®å¯ä»¥ï¼Œä½†å¿…é¡»æœ‰nullå£°æ˜ï¼Œä¸”åªèƒ½æœ‰ä¸€ä¸ª</li>
<li>ç´¢å¼•ä¸åŒ</li>
</ul>
<p><strong>éç©ºçº¦æŸï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xm varchar(20) not null;</span><br><span class="line">alter stu modify sex varchar(20) not null;</span><br><span class="line">åˆ é™¤ alter table stu modify sex varchar(20);</span><br></pre></td></tr></table></figure>

<p><strong>æ£€æŸ¥çº¦æŸï¼š</strong></p>
<p>æ·»åŠ æ•°æ®æ—¶ä¼šåˆ¤æ–­æ˜¯å¦æ»¡è¶³çº¦æŸæ¡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sex char(1) not null check(sex in(&#x27;ç”·&#x27;,&#x27;å¥³&#x27;))åˆ—çº§çº¦æŸï¼ˆåªä¸€ä¸ªcheckæ—¶ï¼‰</span><br><span class="line">birth date not null,check(birth&gt;&#x27;1990-1-1&#x27;)è¡¨çº§çº¦æŸï¼Œå¤§äºç­‰äºä¸€ä¸ªcheck</span><br><span class="line"></span><br><span class="line">alter table stu add check(sex in(&#x27;ç”·&#x27;,&#x27;å¥³&#x27;));</span><br><span class="line"></span><br><span class="line">alter table stu drop check sex;</span><br></pre></td></tr></table></figure>

<p><strong>é»˜è®¤å€¼çº¦æŸï¼š</strong></p>
<p>æ²¡èµ‹å€¼ç»™çš„é»˜è®¤å€¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sex varchar(2) default &#x27;ç”·&#x27;</span><br><span class="line">alter table stu modify sex varchar(2) default &#x27;ç”·&#x27;;</span><br><span class="line"></span><br><span class="line">alter table stu modify sex varchar(2);</span><br></pre></td></tr></table></figure>

<hr>
<p>group by: ç”¨äºå°†æŸ¥è¯¢ç»“æœæŒ‰æŒ‡å®šçš„åˆ—è¿›è¡Œæ’åº asc|desc å‡åº|é™åº</p>
<p>limit: ç”¨äºé™åˆ¶æŸ¥è¯¢çš„è¡Œæ•°ï¼Œå…¶ä¸­offsetä¸ºåç§»é‡ï¼Œä»0å¼€å§‹</p>
<p>into: ä¿å­˜æŸ¥è¯¢ç»“æœåˆ°å“ª</p>
<p><strong>æŸ¥è¯¢</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æŒ‡å®šå­—æ®µï¼ˆåˆ—ï¼‰ select xm, xh from stu;</span><br><span class="line">å»æ‰é‡å¤å€¼ select distinct xh from stu;</span><br><span class="line">è¡¨è¾¾å¼æŸ¥è¯¢ select xm, year(now() - year(csrq)) from stu where xb = &#x27;å¥³&#x27;;å²æ•°ï¼Œå•ç‹¬çš„ä¸€åˆ—ï¼Œyear(now() - year(csrq))</span><br><span class="line">æŸ¥è¯¢æŒ‡å®šè®°å½• where</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">in:åˆ¤æ–­æŸä¸ªå­—æ®µçš„å€¼æ˜¯å¦åœ¨æŒ‡å®šçš„é›†åˆä¸­</span><br><span class="line">	select xh,kcdm,cj from stu where kcdm in(&#x27;01&#x27;,&#x27;20&#x27;);æŸ¥è¯¢è¯¾ç¨‹ä»£ç ä¸º01/02çš„å­¦ç”Ÿé€‰è¯¾ä¿¡æ¯</span><br><span class="line">select xh,kcdm,cj from stu where cj between 80 and 90;</span><br></pre></td></tr></table></figure>

<p><strong>like æ¨¡ç³ŠæŸ¥è¯¢</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysqlä¸åŒºåˆ†å¤§å°å†™ï¼Œè¦åŒºåˆ†å¤§å°å†™æ—¶éœ€è¦æ›´æ¢å­—ç¬¦é›†çš„æ ¡å¯¹è§„åˆ™</span><br><span class="line">% ï¼š0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</span><br><span class="line">_ ï¼šå•ä¸ªå­—ç¬¦</span><br><span class="line">like&#x27;ab%&#x27;ä»¥abå¼€å¤´çš„ä»»æ„å­—ç¬¦ä¸²</span><br><span class="line">like&#x27;%ab&#x27;ä»¥abç»“æŸâ€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦</span><br><span class="line">like &#x27;%ab%&#x27;åŒ…å«abâ€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦</span><br><span class="line">like &#x27;_ab&#x27;ä»¥abç»“æŸçš„ä¸‰ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²</span><br><span class="line">ä½¿ç”¨è½¬ä¹‰å­—ç¬¦è¦åŠ escape</span><br><span class="line">select xm, xh from stu where xm like &#x27;%@_%&#x27; escape &#x27;@&#x27;;</span><br><span class="line">æŸ¥ä¸ºç©ºçš„ where xh is null;</span><br></pre></td></tr></table></figure>

<p><strong>è®¾ç½®åˆ«å</strong></p>
<p>å¸Œæœ›æŸ¥è¯¢ç»“æœä¸­çš„åˆ—æ˜¾ç¤ºæ—¶ä½¿ç”¨è‡ªå·±é€‰æ‹©çš„åˆ—æ ‡é¢˜ï¼Œaså­å¥</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select csrq as å‡ºç”Ÿæ—¥æœŸ,xh as å­¦å· from stu;</span><br></pre></td></tr></table></figure>

<p><strong>èšåˆå‡½æ•°æŸ¥è¯¢</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">count() ç»Ÿè®¡æ»¡è¶³æ¡ä»¶çš„è®°å½•æ•°</span><br><span class="line">	select count(*)as å­¦ç”Ÿäººæ•° from stu;æŸ¥è¯¢è®°å½•æ€»æ•° *ï¼ˆénullï¼‰/ all/ distinct(å»é™¤é‡å¤å€¼)</span><br><span class="line">select sum(cj) as æ€»æˆç»© from stu where xh=&#x27;2001&#x27;;</span><br><span class="line">avgã€ maxã€ minåŒç†</span><br></pre></td></tr></table></figure>

<p><strong>group byåˆ†ç»„æŸ¥è¯¢</strong></p>
<p>éœ€è¦æŒ‰æŸåˆ—æ•°æ®çš„å€¼è¿›è¡Œåˆ†ç»„ï¼Œåœ¨åˆ†ç»„çš„åŸºç¡€ä¸Šå†è¿›è¡ŒæŸ¥è¯¢</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">select xb as æ€§åˆ«,count(*) as äººæ•° from stu group by xb;æŒ‰ç”·å¥³çš„äººæ•°ç»Ÿè®¡æ€»çš„ </span><br><span class="line">select xb as æ€§åˆ«,count(*) as äººæ•° from stu group by xb with rollup;æ¯ä¸ªåˆ†ç±»çš„æ±‡æ€»å€¼</span><br><span class="line">having æ ¹æ®æ¡ä»¶å¯¹å·²åˆ†ç»„ç»“æœè¿›è¡Œç­›é€‰è¿‡æ»¤</span><br><span class="line">æ‰§è¡Œé¡ºåº</span><br><span class="line">where-&gt; group by-&gt; èšåˆå‡½æ•°-&gt; having</span><br></pre></td></tr></table></figure>

<p>å¯¹æ‰€é€‰ä¿¡æ¯è¿›è¡Œæ’åº</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select xb, csrq from stu where xb = &#x27;å¥³&#x27; order by csrq desc;</span><br><span class="line">é™åˆ¶æ‰€é€‰è¡Œæ•° ç›´æ¥åœ¨æœ«å°¾åŠ  limit 3 / limit 3,4 ä»3å¼€å§‹4è¡Œ ä»0å¼€å§‹</span><br></pre></td></tr></table></figure>

<p>å¤šè¡¨æŸ¥è¯¢ï¼š</p>
<p><strong>å†…è¿æ¥ï¼š</strong></p>
<p>åªéœ€è¿”å›æ»¡è¶³è¿æ¥æ¡ä»¶çš„æ•°æ®è¡Œã€‚ä¸¤ä¸ªè¡¨åœ¨è¿›è¡Œè¿æ¥æ—¶ï¼Œè¿æ¥å­—æ®µçš„åç§°å¯ä»¥ä¸ç›¸åŒï¼Œä½†å¿…é¡»æœ‰ç›¸åŒçš„æ•°æ®ç±»å‹ã€é•¿åº¦å’Œç²¾åº¦ï¼Œä¸”æ ‡ç­”åŒä¸€èŒƒç•´çš„æ„ä¹‰ï¼Œè¿æ¥åˆ—å­—æ®µä¸€èˆ¬æ˜¯æ•°æ®è¡¨çš„ä¸»é”®å’Œå¤–é”®ã€‚ç³»ç»Ÿé»˜è®¤</p>
<p>using å­å¥ä¸ºåŒç³»åˆ—çš„åˆ—å‘½å(é€‰æ‹©)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select xs.xh,xm,kcmc,cj from xsjbxxb as xs join xsxkb on xs.xh=xsxkb.xh join kcdmb.kcdm=kcdmb.kcdm where xs.xh=&#x27;2001&#x27;;</span><br><span class="line"></span><br><span class="line">select xs.xh,xm,kcmc,cj from xsjbxxb as xs join xsxkb using(xh) join kcdmb using(kcdm) where xs.xh=&#x27;2001&#x27;;</span><br></pre></td></tr></table></figure>

<p><strong>å¤–è¿æ¥ï¼š</strong></p>
<p>è¿”å›çš„ç»“æœé›†é™¤åŒ…æ‹¬ç¬¦åˆæ¡ä»¶çš„è®°å½•å¤–ï¼Œè¿˜ä¼šè¿”å›fromå­å¥ä¸­è‡³å°‘ä¸€ä¸ªè¡¨ä¸­çš„æ‰€æœ‰è¡Œï¼Œä¸æ»¡è¶³æ¡ä»¶çš„æ•°æ®è¡Œå°†æ˜¾ç¤ºä¸ºç©ºå€¼ï¼Œåˆåˆ†å·¦å¤–è¿æ¥ã€å³å¤–è¿æ¥ã€å…¨å¤–è¿æ¥</p>
<p>left join:ç»“æœé›†ä¸­é™¤åŒ…æ‹¬æ»¡è¶³è¿æ¥æ¡ä»¶çš„è¡Œå¤–ï¼Œè¿˜åŒ…æ‹¬å·¦è¡¨ä¸­ä¸æ»¡è¶³æ¡ä»¶çš„è®°å½•è¡Œã€‚å½“å·¦è¡¨ä¸­ä¸æ»¡è¶³æ¡ä»¶çš„è®°å½•ä¸å³è¡¨è®°å½•è¿›è¡Œç»„åˆæ—¶ï¼Œæ¸¸æ ‡ç›¸åº”å€¼ä¸ºnull</p>
<p>right join:åŒç†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å·¦å¤–è¿æ¥</span><br><span class="line">select xs.xh, xm, kcdm, cj from xsjbxxb as xs left join xsxkb on xs.xh=xsxkb.xh where xs.xh=&#x27;2001&#x27;;</span><br></pre></td></tr></table></figure>

<p><strong>äº¤å‰è¿æ¥ï¼š</strong></p>
<p>åœ¨æ²¡æœ‰whereå­å¥çš„æƒ…å†µä¸‹ï¼Œäº§ç”Ÿçš„è¡¨çš„ç¬›å¡å°”ç§¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select å­—æ®µå from stu cross join xsjbxxb;</span><br></pre></td></tr></table></figure>

<p><strong>è‡ªè¿æ¥ï¼š</strong></p>
<p>ä¸€ä¸ªè¡¨çš„ä¸¤ä¸ªå‰¯æœ¬ä¹‹é—´çš„å†…è¿æ¥ï¼ˆè‡ªå·±å’Œè‡ªå·±è¿æ¥ï¼‰ï¼Œä¸ºäº†åŒºåˆ«ï¼Œè¿˜å¿…é¡»å¯¹è¡¨æŒ‡å®šä¸åŒçš„åˆ«å</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select xs1.sh, xs1.xm from stu as xs1, stu as xs2 where xs1.zymc=xs2.zymc and xs2.xm=&#x27;ç‹ä¸‰&#x27; and xs1.xm!=&#x27;ç‹ä¸‰&#x27;;æŸ¥è¯¢ä¸ç‹ä¸‰åŒä¸€ä¸ªä¸“ä¸šçš„å­¦ç”Ÿå­¦å·å’Œå§“å</span><br></pre></td></tr></table></figure>

<p><strong>å­æŸ¥è¯¢ï¼š</strong>åµŒå¥—æŸ¥è¯¢</p>
<p><strong>æ¯”è¾ƒå­æŸ¥è¯¢ï¼š</strong>åµŒå¥—</p>
<p><strong>å¸¦inçš„å­æŸ¥è¯¢ï¼š</strong>in(åµŒå¥—)</p>
<p><strong>æ‰¹é‡æ¯”è¾ƒå­æŸ¥è¯¢ï¼š</strong>allï¼ˆæŒ‡å®šè¡¨è¾¾å¼è¦ä¸å­æŸ¥è¯¢ç»“æœé›†ä¸­çš„æ¯ä¸ªå€¼è¿›è¡Œæ¯”è¾ƒï¼Œåªæœ‰å½“è¡¨è¾¾å¼ä¸æ¯ä¸ªå€¼éƒ½æ»¡è¶³æ¯”è¾ƒå…³ç³»æ—¶ï¼Œtrueï¼‰ã€someã€anyï¼ˆè¡¨è¾¾å¼ä¸å­æŸ¥è¯¢ç»“æœé›†ä¸­çš„æŸä¸ªå€¼æ»¡è¶³æ¯”è¾ƒå…³ç³»æ—¶ï¼Œå°±ä¼šè¿”å›trueï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select xm from xsjbxxb where xh=some(select xh from xsxkb where cj&lt;60);</span><br><span class="line">select xm from xsjbxxb where csrq&lt;=all(select crsq from xsjbxxb);</span><br></pre></td></tr></table></figure>

<p><strong>existå­æŸ¥è¯¢ï¼š</strong>åªè¿”å›ä¸€ä¸ªé€»è¾‘å€¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select xm from xsjbxxb where exists(select * from xsxkb where xsjbxxb.xh=xsxkb.xh);</span><br></pre></td></tr></table></figure>

<p>å­æŸ¥è¯¢å’Œè¿æ¥æŸ¥è¯¢åœ¨å¾ˆå¤šæƒ…å†µä¸‹å¯ä»¥äº’æ¢ï¼š</p>
<ul>
<li>æŸ¥è¯¢è¯­å¥è¦è¾“å‡ºçš„å­—æ®µæ¥è‡ªå¤šä¸ªè¡¨æ—¶ï¼Œè¿æ¥å±…å¤š</li>
<li>è¾“å‡ºå­—æ®µæ¥è‡ªä¸€ä¸ªè¡¨ï¼Œwhereå­å¥æ¶‰åŠå¦ä¸€ä¸ªè¡¨ï¼Œè¿æ¥å±…å¤š</li>
<li>åªæ¶‰åŠä¸€ä¸ªè¡¨ï¼Œä½†æ¶‰åŠèšåˆå‡½æ•°æ¯”è¾ƒï¼Œå­å±…å¤š</li>
</ul>
<p><strong>æ­£åˆ™è¡¨è¾¾å¼çš„æ¨¡ç³ŠæŸ¥è¯¢ï¼š</strong></p>
<p>regexpæ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„ç¼©å†™ï¼Œä½†ä¸æ˜¯sqlæ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼Œå¯å’Œrlikeäº’æ¢</p>
<table>
<thead>
<tr>
<th>^</th>
<th>åŒ¹é…å­—ç¬¦ä¸²å¼€å§‹å­—ç¬¦</th>
<th>^a -&gt; abc</th>
</tr>
</thead>
<tbody><tr>
<td>$</td>
<td>â€¦â€¦â€¦â€¦â€¦â€¦ç»“æŸå­—ç¬¦</td>
<td>ing$ -&gt; string</td>
</tr>
<tr>
<td>.</td>
<td>â€¦â€¦ä»»æ„å•ä¸ªå­—ç¬¦ï¼ŒåŒ…æ‹¬å›è½¦å’Œæ¢è¡Œ</td>
<td>b.g -&gt; big</td>
</tr>
<tr>
<td>*</td>
<td>â€¦â€¦*ä¹‹å‰çš„0ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</td>
<td>*c -&gt; abcã€bc</td>
</tr>
<tr>
<td>+</td>
<td>â€¦â€¦è¯¥å­—ç¬¦å‰é¢çš„å­—ç¬¦1æ¬¡æˆ–å¤šæ¬¡</td>
<td>p+hp -&gt; php ä»¥hpç»“å°¾ï¼Œå‰é¢è‡³å°‘ä¸€ä¸ªp</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select xh,xm,xb from xsjbxxb where xm regexp &#x27;^å¼ &#x27;;</span><br><span class="line">select xh,xm,xb from xsjbxxb where xm like &#x27;å¼ %&#x27;;</span><br></pre></td></tr></table></figure>

<p><strong>unionåˆå¹¶ç»“æœé›†ï¼š</strong></p>
<p>å°†å¤šä¸ªselectè¯­å¥çš„è¿”å›ç»“æœç»„åˆåˆ°ä¸€ä¸ªç»“æœé›†ä¸­ã€‚å½“è¦æ£€ç´¢çš„æ•°æ®åœ¨ä¸åŒçš„ç»“æœé›†ä¸­ï¼Œå¹¶ä¸”ä¸èƒ½åˆ©ç”¨ä¸€ä¸ªå•ç‹¬çš„æŸ¥è¯¢è¯­å¥å¾—åˆ°æ—¶</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select bjbh,bmh,bjzwmc from bjdmb where bmh=&#x27;01&#x27; union select bjbh,bmh,bjzwmc from bjdmb where bmh=&#x27;03&#x27;;</span><br><span class="line">æŸ¥è¯¢éƒ¨é—¨å·01ã€03çš„ç­çº§ä¿¡æ¯</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>ç´¢å¼•ï¼š</strong>åŠ é€Ÿå¯¹æ•°æ®è¿›è¡Œæ£€ç´¢è€Œåˆ›å»ºçš„ä¸€ç§åˆ†æ•£çš„ã€ç‰©ç†çš„æ•°æ®ç»“æ„ï¼›æ ¹æ®è¡¨ä¸­ä¸€åˆ—æˆ–å¤šåˆ—æŒ‰ç…§ä¸€å®šé¡ºåºå»ºç«‹çš„åˆ—å€¼ä¸è®°å½•è¡Œä¹‹é—´çš„å¯¹åº”å…³ç³»è¡¨ï¼›æ‰€æœ‰æ•°æ®ç±»å‹éƒ½èƒ½è¢«ç´¢å¼•ã€‚</p>
<p>ç´¢å¼•åˆ†ç±»ï¼š</p>
<ul>
<li>æ™®é€šç´¢å¼•indexï¼šåŸºæœ¬ç´¢å¼•ç±»å‹ï¼Œå…è®¸åœ¨å®šä¹‰ç´¢å¼•çš„å­—æ®µæ’å…¥é‡å¤å€¼å’Œç©ºå€¼</li>
<li>å”¯ä¸€ç´¢å¼•uniqueï¼šå€¼å¿…é¡»å”¯ä¸€ä¸”å…è®¸æœ‰ç©ºå€¼ï¼›ç»„åˆç´¢å¼•å­—æ®µå€¼çš„ç»„åˆå¿…é¡»å”¯ä¸€ï¼›ä¸€ä¸ªè¡¨ä¸Šå¯ä»¥æœ‰å¤šä¸ª</li>
<li>ä¸»é”®ç´¢å¼•primary key:å–å€¼å”¯ä¸€ä¸”ä¸å…è®¸æœ‰ç©ºå€¼ï¼›ä¸€èˆ¬åœ¨å»ºè¡¨æ—¶è¢«åˆ›å»ºï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹è¡¨æ—¶æ·»åŠ ä¸»é”®ç´¢å¼•ï¼›ä¸€å¼ è¡¨åªèƒ½æœ‰ä¸€ä¸ª</li>
<li>å…¨æ–‡ç´¢å¼•fulltext:åœ¨å®šä¹‰ç´¢å¼•çš„å­—æ®µä¸Šæ”¯æŒå€¼çš„å…¨æ–‡æŸ¥æ‰¾ï¼›å…è®¸æ’å…¥é‡å¤å€¼å’Œç©ºå€¼ï¼›æ€»åœ¨æ•´ä¸ªå­—æ®µä¸Šåˆ›å»ºï¼Œä¸æ”¯æŒå­—æ®µå‰ç¼€ç´¢å¼•</li>
<li>ç©ºé—´ç´¢å¼•spatil:åœ¨ç©ºé—´æ•°æ®ç±»å‹å­—æ®µä¸Šå»ºç«‹çš„ç´¢å¼•ï¼›ç©ºé—´åˆ—ä¸Šçš„ç´¢å¼•å¿…é¡»æ—¶ç©ºé—´ç´¢å¼•ï¼Œå¹¶ä¸”ä»…é€‚ç”¨äºå•ä¸ªç©ºé—´åˆ—ï¼›ä¸èƒ½ä¸ºç©ºï¼Œä¸èƒ½ç”¨äºä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•</li>
</ul>
<p>ç´¢å¼•åç§°å¿…é¡»å”¯ä¸€</p>
<p>ä¸»é”®ç´¢å¼•å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä½†å”¯ä¸€ç´¢å¼•ä¸ä¸€å®šæ˜¯ä¸»é”®ç´¢å¼•</p>
<p>åˆ›å»ºä¸»é”®çº¦æŸå¯è‡ªåŠ¨ç”Ÿæˆä¸»é”®ç´¢å¼•ï¼Œåˆ›å»ºå”¯ä¸€æ€§çº¦æŸæ—¶ä¹Ÿä¼šè‡ªåŠ¨åˆ›å»ºå”¯ä¸€ç´¢å¼•ã€‚åº”ä¿è¯ç´¢å¼•æ»¡è¶³çº¦æŸæ¡ä»¶ã€‚</p>
<ul>
<li>åˆ›å»ºç´¢å¼•é”®å€¼åˆ—æ•°ï¼šå•åˆ—ã€å¤åˆ</li>
<li>å­˜å‚¨æ–¹å¼ï¼šhashã€btree</li>
</ul>
<p>ç´¢å¼•åŸåˆ™ï¼š</p>
<ul>
<li>å¹¶éè¶Šå¤šè¶Šå¥½</li>
<li>é¿å…å¯¹ç»å¸¸æ›´æ–°çš„è¡¨åˆ›å»ºè¿‡å¤šçš„ç´¢å¼•ï¼Œå¯¹ç»å¸¸æŸ¥è¯¢çš„è¡¨å»ºç«‹ç´¢å¼•</li>
<li>ç»å¸¸éœ€è¦æ’åºã€åˆ†ç»„ã€è”åˆæ“ä½œçš„å­—æ®µå»ºç«‹</li>
<li>ä¸è¦å¯¹å«æœ‰å¤§é‡é‡å¤å€¼çš„å­—æ®µå»ºç´¢å¼•</li>
<li>ä¸è¦å¯¹æ•°æ®é‡å°çš„è¡¨å»ºç«‹ç´¢å¼•</li>
</ul>
<p><strong>åˆ›å»ºç´¢å¼•</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">create table course(</span><br><span class="line">	cid varchar(6) not null,</span><br><span class="line">    cname varchar(20) not null,</span><br><span class="line">    credit float(3,1),</span><br><span class="line">    semester int(1),</span><br><span class="line">    index(cname desc)</span><br><span class="line">);</span><br><span class="line">åœ¨cnameä¸Šå»ºç«‹æ™®é€šç´¢å¼•å¹¶é™åºæ’åº</span><br><span class="line">alter table xsjbxxb add index index_xm(xm); index_xmæ—¶ç´¢å¼•çš„åç§°</span><br><span class="line">create index index_xm_bj on xsjbxxb(xm desc, nj asc);</span><br></pre></td></tr></table></figure>

<p><strong>æŸ¥çœ‹ç´¢å¼•</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å·²åˆ›å»ºç´¢å¼•çš„æƒ…å†µ</span><br><span class="line">show index from xsjbxxb;</span><br><span class="line">show create table xsjbxxb;</span><br><span class="line"></span><br><span class="line">ç´¢å¼•çš„ä½¿ç”¨æƒ…å†µ</span><br><span class="line">explain select * from xsjbxxb where æ¡ä»¶è¡¨è¾¾å¼;</span><br></pre></td></tr></table></figure>

<p><strong>åˆ é™¤ç´¢å¼•</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">drop index index_kcmc on kcdmb;</span><br><span class="line">alter table xsjbxxb drop index index_kcmc;</span><br></pre></td></tr></table></figure>

<p><strong>è§†å›¾</strong></p>
<p>è™šæ‹Ÿè¡¨ã€‚æ˜¯ä»ä¸€ä¸ªæˆ–å¤šä¸ªè¡¨åŠå…¶å®ƒè§†å›¾ä¸­é€šè¿‡selectè¯­å¥å¯¼å‡ºçš„è¡¨ï¼Œå…¶å†…å®¹ç”±æŸ¥è¯¢å®šä¹‰æ´¾ç”Ÿå‡ºè§†å›¾çš„è¡¨ç§°ä¸º<em>åŸºè¡¨</em>ã€‚è§†å›¾åŒ…å«ä¸€ç³»åˆ—å¸¦æœ‰åç§°çš„å­—æ®µå’Œè®°å½•ï¼Œä½†æ˜¯åªæ”¾äº†å®šä¹‰ï¼Œæ²¡æœ‰æ”¾æ•°æ®ï¼Œæµè§ˆè§†å›¾æ—¶æ‰€å¯¹åº”çš„æ•°æ®è¡Œå’Œåˆ—æ•°æ®æ¥è‡ªå®šä¹‰è§†å›¾æŸ¥è¯¢æ‰€å¼•ç”¨çš„è¡¨ï¼Œå¹¶ä¸”åœ¨å¼•ç”¨è§†å›¾æ—¶åŠ¨æ€ç”Ÿæˆã€‚</p>
<p>åªæœ‰æŸ¥è¯¢æ²¡æœ‰ä»»ä½•é™åˆ¶</p>
<p>ä¼˜ç‚¹ï¼šç®€åŒ–æ•°æ®æŸ¥è¯¢å’Œå¤„ç†ã€å±è”½æ•°æ®åº“çš„å¤æ‚æ€§ã€å®‰å…¨æ€§</p>
<p><strong>åˆ›å»ºè§†å›¾</strong></p>
<p>åœ¨æŒ‡å®šçš„æ•°æ®åº“è¡¨ä¸Šå»ºç«‹è§†å›¾ã€‚è§†å›¾å¯ä»¥å»ºç«‹åœ¨ä¸€å¼ è¡¨ä¸Šï¼Œä¹Ÿå¯ä»¥å»ºç«‹åœ¨å¤šå¼ è¡¨æˆ–å·²æœ‰è§†å›¾ä¸Šã€‚éœ€è¦æƒé™</p>
<p>or replace:å½“å·²å…·æœ‰åŒåè§†å›¾æ—¶ï¼Œæ›¿æ¢å·²æœ‰è§†å›¾</p>
<p>alogrithmï¼šè§†å›¾ç®—æ³•å¯å½±å“æŸ¥è¯¢è¯­å¥çš„è§£ææ–¹å¼</p>
<p>â€‹		undefinedï¼šé»˜è®¤ï¼Œè‡ªåŠ¨é€‰æ‹©ç®—æ³•</p>
<p>â€‹		mergeï¼šå°†è§†å›¾å®šä¹‰å’ŒæŸ¥è¯¢è§†å›¾æ—¶çš„selectè¯­å¥åˆå¹¶èµ·æ¥æŸ¥è¯¢</p>
<p>â€‹		temptableï¼šå…ˆå°†è§†å›¾ç»“æœå­˜å…¥ä¸´æ—¶è¡¨ï¼Œç„¶åç”¨ä¸´æ—¶è¡¨è¿›è¡ŒæŸ¥è¯¢</p>
<p>definer:å®šä¹‰è§†å›¾çš„ç”¨æˆ·ä¸å®‰å…¨æ§åˆ¶æœ‰å…³ï¼Œé»˜è®¤ä¸ºå½“å‰ç”¨æˆ·</p>
<p>â€‹		user|current_user</p>
<p>sql securityï¼šç”¨äºè§†å›¾çš„å®‰å…¨æ§åˆ¶</p>
<p>â€‹		definer|invoker</p>
<p>with (cascaded|local) check optionï¼šå¯¹äºè§†å›¾æ•°æ®æ“ä½œæ—¶çš„æ£€æŸ¥æ¡ä»¶</p>
<p>â€‹		cascadedã€localï¼šå†³å®šäº†æ£€æŸ¥æµ‹è¯•çš„èŒƒå›´ã€‚é»˜è®¤ï¼Œåœ¨ä¸€ä¸ªè§†å›¾çš„åŸºç¡€ä¸Šåˆ›å»ºå¦ä¸€ä¸ªè§†å›¾æ—¶ï¼Œè¿›è¡Œçº§è”æ£€æŸ¥|æ“ä½œæ•°æ®æ—¶æ»¡è¶³è¯¥è§†å›¾æœ¬èº«å®šä¹‰çš„æ¡ä»¶å³å¯</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">create view xs_1 as select xh,xm,xb,zymc from xsjbxxb where zymc=&#x27;é€šä¿¡å·¥ç¨‹&#x27; with check option;</span><br><span class="line"></span><br><span class="line">create view xs_cj_avg(ä¸“ä¸šåç§°ï¼Œå¹³å‡æˆç»©) as select zymc,avg(cj) from xsjbxxb,xsxkb where xsjbxxb.xh=xsxkb.xh group by zymc;å»ºç«‹ä¸€ä¸ªè®¡ç®—æ¯ä¸ªä¸“ä¸šå¹³å‡æˆç»©</span><br></pre></td></tr></table></figure>

<p><strong>æŸ¥çœ‹è§†å›¾</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">desc è§†å›¾å;</span><br><span class="line">show table status like &#x27;è§†å›¾å&#x27;;(ä¸ºnullæ˜¯è™šè¡¨)</span><br><span class="line">show create view è§†å›¾å;</span><br><span class="line">select table_a, table_b, view_a from information_a.views where table_name=&#x27;è§†å›¾å&#x27;;æŸ¥çœ‹è§†å›¾è¯¦ç»†ä¿¡æ¯</span><br></pre></td></tr></table></figure>

<p><strong>ä¿®æ”¹è§†å›¾</strong></p>
<p>å¯¹å·²å­˜åœ¨çš„</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">create or replace view åå­— as select â€¦â€¦;</span><br><span class="line">alter view åå­— as select â€¦â€¦;</span><br></pre></td></tr></table></figure>

<p><strong>æŸ¥è¯¢è§†å›¾</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select *from xs_kc where xb=&#x27;ç”·&#x27;;</span><br></pre></td></tr></table></figure>

<p><strong>æ›´æ–°è§†å›¾</strong></p>
<p>é€šè¿‡è§†å›¾ä¿®æ”¹åŸºè¡¨ã€‚ä¸æ˜¯æ‰€æœ‰è§†å›¾éƒ½èƒ½æ›´æ–°ï¼Œåªæœ‰æ»¡è¶³æ¡ä»¶çš„è§†å›¾æ‰å¯ä»¥æ›´æ–°</p>
<p>ä¸èƒ½æ›´æ–°çš„æƒ…å†µ:</p>
<ul>
<li>å«èšåˆå‡½æ•°</li>
<li>å«union&#x2F;union all&#x2F;distinct&#x2F;top&#x2F;group by&#x2F;havingç­‰å…³é”®å­—</li>
<li>å®šä¹‰è§†å›¾çš„selectä¸­åŒ…å«å­æŸ¥è¯¢</li>
<li>ç”±ä¸å¯æ›´æ–°çš„è§†å›¾å¯¼å‡ºçš„è§†å›¾</li>
<li>è§†å›¾ä¸Šå¯¹åº”çš„æ•°æ®è¡¨ä¸Šå­˜åœ¨æ²¡æœ‰é»˜è®¤å€¼ä¸”ä¸ä¸ºç©ºçš„åˆ—ï¼Œè¯¥åˆ—æ²¡æœ‰è¢«åŒ…å«åœ¨è§†å›¾é‡Œ</li>
<li>fromå­å¥ä¸­åŒ…å«å¤šä¸ªè¡¨</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">å’Œæ­£å¸¸æ’å…¥ä¸€ insert</span><br><span class="line">åœ¨åˆ›å»ºè§†å›¾ä¸­ä½¿ç”¨äº† with check optionï¼Œæ‰€æœ‰å¯¹è§†å›¾è¿›è¡Œä¿®æ”¹çš„è¯­å¥å¿…é¡»ç¬¦åˆè¿™ä¸ªé™å®šæ¡ä»¶</span><br><span class="line">ä¸€æ¬¡æ’å…¥åªèƒ½ä½œç”¨åˆ°ä¸€ä¸ªåŸºè¡¨ä¸Š</span><br><span class="line"></span><br><span class="line">æ›´æ–° update</span><br><span class="line">update xs_kc set cj=80 where xm=&#x27;å¼ ä¸‰&#x27;;</span><br><span class="line"></span><br><span class="line">åˆ é™¤æ•°æ® delete</span><br><span class="line">å¯¹è§†å›¾æ“ä½œï¼ŒåŸºè¡¨åŒæ—¶è¢«æ“ä½œ</span><br><span class="line">å½“ä¸€ä¸ªè§†å›¾è¿äº†ä¸¤ä¸ªä»¥ä¸Šçš„åŸºè¡¨ï¼Œå¯¹æ•°æ®çš„åˆ é™¤ä¸ä¼šæˆåŠŸ</span><br></pre></td></tr></table></figure>

<p><strong>åˆ é™¤è§†å›¾</strong></p>
<p>åªåˆ äº†å®šä¹‰ï¼Œä¸ä¼šå½±å“åŸºè¡¨ä¸­çš„æ•°æ®</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop view xs_kc;</span><br></pre></td></tr></table></figure>

<p>æœ€å¥½ä»…å°†è§†å›¾ä½œä¸ºè™šè¡¨ï¼Œä¸è¦é€šè¿‡è§†å›¾æ›´æ–°æ•°æ®</p>
<hr>
<p><strong>å¸¸é‡</strong></p>
<table>
<thead>
<tr>
<th>å®å‹å¸¸é‡</th>
<th>12.3ï¼Œ-56.4ï¼Œ12e3</th>
</tr>
</thead>
<tbody><tr>
<td>æ•´å‹å¸¸é‡</td>
<td></td>
</tr>
<tr>
<td>å­—ç¬¦ä¸²å¸¸é‡</td>
<td>â€˜ab #3â€™ã€â€abc def â€œ</td>
</tr>
<tr>
<td>æ—¥æœŸ&#x2F;æ—¶é—´å¸¸é‡</td>
<td>â€˜2010-04-02â€™</td>
</tr>
<tr>
<td>å¸ƒå°”å€¼</td>
<td></td>
</tr>
<tr>
<td>nullå€¼</td>
<td>è¡¨ç¤ºæ— æ•°æ®ï¼Œä½†ä¸åŒäºç©ºå­—ç¬¦ä¸²å’Œæ•°å­—0</td>
</tr>
</tbody></table>
<p>unicodeå­—ç¬¦å‰é¢æœ‰ä¸€ä¸ªNæ ‡å¿—ç¬¦ï¼Œå¿…é¡»ä¸ºå¤§å†™ <code>N&#39;hello&#39;</code></p>
<p><strong>å˜é‡</strong></p>
<ul>
<li><p>å…¨å±€å˜é‡:ç³»ç»Ÿå®šä¹‰ï¼Œè‡ªåŠ¨åˆå§‹åŒ–é™Œç”Ÿå€¼ï¼Œç”¨æˆ·ä¸èƒ½å®šä¹‰ï¼›å€¼å¯ä»¥é€šè¿‡my.iniä¿®æ”¹ï¼Œä½†å¿…é¡»æœ‰superæƒé™ï¼›å½±å“æ•´ä¸ªæœåŠ¡å™¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">æŸ¥çœ‹æ‰€æœ‰å…¨å±€å˜é‡çš„å€¼ show global variables;</span><br><span class="line">æŒ‡å®šæ˜¾ç¤ºæŸä¸ªå…¨å±€å˜é‡çš„å€¼ select @@global.å˜é‡å;</span><br><span class="line"></span><br><span class="line">è®¾ç½®å…¨å±€å˜é‡</span><br><span class="line">set global var_name=value;</span><br><span class="line">set @@global.var_name=value;</span><br><span class="line">è°ƒç”¨å…¨å±€å˜é‡æ˜¯ï¼Œéœ€è¦åœ¨åç§°å‰åŠ ä¸Š&#x27;@@&#x27;ï¼Œä½†åœ¨ç³»ç»Ÿæ—¥æœŸã€ç³»ç»Ÿæ—¶é—´ã€ç”¨æˆ·åç­‰</span><br><span class="line"></span><br><span class="line">å…¨å±€å˜é‡çš„å€¼è®¾ä¸º400 set global rang_alloc_block_size=400;</span><br><span class="line">è¿™é‡Œçš„globalä¸èƒ½çœç•¥ï¼Œå¦åˆ™é»˜è®¤ä¸ºä¼šè¯å˜é‡ session</span><br></pre></td></tr></table></figure>


</li>
<li><p>ä¼šè¯å˜é‡:æ¯æ¬¡å»ºç«‹ä¸€ä¸ªæ–°è¿æ¥æ˜¯ï¼Œç”±mysqlæœåŠ¡å™¨å°†å½“å‰æ‰€æœ‰å…¨å±€å˜é‡å¤åˆ¶ä¸€ä»½ç»™ä¼šè¯å˜é‡å®Œæˆåˆå§‹åŒ–ï¼Œå®ƒåªå½±å“å½“å‰çš„æ•°æ®è¿æ¥å‚æ•°ï¼›åªèƒ½æ›´æ”¹è‡ªå·±çš„</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è®¾ç½®</span><br><span class="line">set session var_name=value;</span><br><span class="line">set @@session.var_name=value;</span><br><span class="line">set var_name=value;</span><br><span class="line">æŸ¥çœ‹</span><br><span class="line">select @@var_name;</span><br><span class="line">select @@session.var_name;</span><br><span class="line">show session variables like &quot;th%&quot;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”¨æˆ·å˜é‡:å¿…é¡»å®šä¹‰å’Œåˆå§‹åŒ–ï¼Œæ²¡æœ‰åˆ™ä¸ºnull</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set @name=&#x27;ç‹ä¸‰&#x27;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å±€éƒ¨å˜é‡:declare</p>
<p>å¿…é¡»å®šä¹‰åœ¨å‡½æ•°ã€è§¦å‘å™¨ã€å­˜å‚¨è¿‡ç¨‹ç­‰å­˜å‚¨ç¨‹åºä¸­ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">declare name char(6) default &#x27;å¼ ä¸‰&#x27;;</span><br></pre></td></tr></table></figure></li>
</ul>
<table>
<thead>
<tr>
<th>&lt;&#x3D;&gt;</th>
<th>å®‰å…¨ç­‰äºï¼Œä¸ä¼šè¿”å›unknown ï¼ˆtrueã€falseï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td>&lt;&gt; ã€!&#x3D;</td>
<td>ä¸ç­‰äº</td>
</tr>
<tr>
<td>least</td>
<td>è¿”å›æœ€å°å€¼</td>
</tr>
<tr>
<td>greatest</td>
<td>è¿”å›æœ€å¤§å€¼</td>
</tr>
<tr>
<td>in</td>
<td>åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯inåˆ—è¡¨ä¸­çš„ä»»æ„ä¸€ä¸ªå€¼</td>
</tr>
<tr>
<td>not in</td>
<td>â€¦â€¦â€¦â€¦â€¦â€¦ä¸æ˜¯â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦</td>
</tr>
<tr>
<td>like</td>
<td>é€šé…ç¬¦åŒ¹é…</td>
</tr>
<tr>
<td>regexp</td>
<td>æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>not !</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>and &amp;&amp;</td>
<td>æœ‰0ä¸º0</td>
</tr>
<tr>
<td>or ||</td>
<td></td>
</tr>
<tr>
<td>xor</td>
<td>æœ‰1ä¸º1</td>
</tr>
</tbody></table>
<p><strong>æµç¨‹æ§åˆ¶è¯­å¥</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">delimiter$$</span><br><span class="line">create preocedure getGrade(cj varchar(20))</span><br><span class="line">begin</span><br><span class="line">    declare stu_grade float;</span><br><span class="line">    select cj into stu_grade from xsxkb where xh=stu_no and kcdm=cour_no;</span><br><span class="line">    </span><br><span class="line">    if stu&gt;=90 then</span><br><span class="line">        select stu_grade,&#x27;A&#x27;;</span><br><span class="line">    elseif</span><br><span class="line">        ;</span><br><span class="line">    end if;</span><br><span class="line"></span><br><span class="line">    case</span><br><span class="line">        when stu_grade&gt;=90 then</span><br><span class="line">            select stu_grade,&#x27;A&#x27;;</span><br><span class="line">    end case;</span><br><span class="line">end $$</span><br><span class="line">delimiter;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">delimiter$$</span><br><span class="line">create preocedure getGrade(a int)</span><br><span class="line">begin</span><br><span class="line">    declare i int default 1;</span><br><span class="line">    loop_name: loop</span><br><span class="line">        if i&gt;a then</span><br><span class="line">            leave loop_name;--åˆ¤æ–­æ¡ä»¶æˆç«‹åˆ™ç»“æŸå¾ªç¯</span><br><span class="line">        end if;</span><br><span class="line">        set sum=sum+i;</span><br><span class="line">        set i=i+1;</span><br><span class="line">    end loop;--å¾ªç¯ç»“æŸ</span><br><span class="line">    select sum;</span><br><span class="line">end$$</span><br><span class="line">delimiter;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">declare sum int default 0;</span><br><span class="line">declare i int default 1;</span><br><span class="line">    repeat --å¾ªç¯å¼€å§‹</span><br><span class="line">    if i&gt;a then</span><br><span class="line">    	set sum=sum+i;</span><br><span class="line">    set i=i+1;</span><br><span class="line">    until i&gt;a</span><br><span class="line">    	end repeat;--å¾ªç¯ç»“æŸ</span><br><span class="line">select sum;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while i&lt;=a do</span><br><span class="line">	set sum=sum+i;</span><br><span class="line">	set i=i+1;</span><br><span class="line">end while;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">label1:loop</span><br><span class="line">    set p1=p1+1;</span><br><span class="line">    if p1&lt;10 then</span><br><span class="line">    	inerate lable1;</span><br><span class="line">    end if;</span><br><span class="line">    leave lable1;</span><br><span class="line">end loop label1;</span><br></pre></td></tr></table></figure>

<p>åŠ å¯†å‡½æ•°ï¼š</p>
<table>
<thead>
<tr>
<th>md5()</th>
<th>è®¡ç®—å­—ç¬¦ä¸²çš„md5æ ¡éªŒå’Œ</th>
</tr>
</thead>
<tbody><tr>
<td>sha()</td>
<td>â€¦â€¦â€¦â€¦â€¦â€¦â€¦å®‰å…¨æ•£åˆ—ç®—æ³•(sha)æ ¡éªŒå’Œ</td>
</tr>
<tr>
<td>sha2(str,hash_length)</td>
<td>hash_lengthæ”¯æŒçš„å€¼ä¸º224ã€256ã€384ã€512ã€0</td>
</tr>
</tbody></table>
<p>è‡ªå®šä¹‰å‡½æ•°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create function å‡½æ•°åï¼ˆå‚æ•°åˆ—è¡¨ï¼‰ returns æ•°æ®ç±»å‹</span><br><span class="line">begin</span><br><span class="line">	;</span><br><span class="line">return å€¼;</span><br><span class="line">end;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æŸ¥çœ‹å‡½æ•° show create function å‡½æ•°å;</span><br><span class="line">	show function status;</span><br><span class="line">	</span><br><span class="line">alter function å‡½æ•°å é€‰é¡¹;</span><br><span class="line"></span><br><span class="line">drop function å‡½æ•°å;</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>å­˜å‚¨è¿‡ç¨‹</strong>çš„å‡½æ•°ï¼šä¸€ç»„ç»è¿‡ç¼–è¯‘å¹¶ä¿å­˜åœ¨æ•°æ®åº“ä¸­sqlè¯­å¥çš„é›†åˆ</p>
<p>â€‹							å…è®¸æ ‡å‡†ç»„ä»¶å¼ç¼–ç¨‹ã€è¾ƒå¿«çš„æ‰§è¡Œé€Ÿåº¦ã€å‡å°‘ç½‘ç»œæµé‡ã€å®‰å…¨</p>
<p><strong>å­˜å‚¨è¿‡ç¨‹çš„åˆ›å»º</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">delimiter$$</span><br><span class="line">create procedure proc(out num int)</span><br><span class="line">begin</span><br><span class="line">	select count(*) into num from xsjbxxb;</span><br><span class="line">end $$</span><br><span class="line">delimiter;ä½œç”¨æ˜¯å°†è¯­å¥çš„ç»“æŸç¬¦;ä¿®æ”¹ä¸º$$ï¼Œä¸ä¼šå‡ºç°é”™è¯¯</span><br><span class="line"></span><br><span class="line">procçš„ç®€å•å­˜å‚¨è¿‡ç¨‹ï¼Œç”¨äºè·å–è¡¨xsjbxxbä¸­çš„è®°å½•æ•°</span><br></pre></td></tr></table></figure>

<p><strong>å­˜å‚¨è¿‡ç¨‹çš„è°ƒç”¨</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">call proc(@num);</span><br><span class="line">select @num;--è¾“å‡º</span><br></pre></td></tr></table></figure>

<p><strong>æŸ¥çœ‹å­˜å‚¨è¿‡ç¨‹</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æŸ¥çœ‹å­˜å‚¨è¿‡ç¨‹çš„çŠ¶æ€</span><br><span class="line">show procedure status like &#x27;proc&#x27;;</span><br><span class="line">æŸ¥çœ‹å­˜å‚¨è¿‡ç¨‹çš„å®šä¹‰</span><br><span class="line">show create procedure jwgl.proc;</span><br><span class="line">æŸ¥çœ‹å­˜å‚¨è¿‡ç¨‹çš„ä¿¡æ¯</span><br><span class="line">select *from information_schema.routines where routine_name=&#x27;pf_name&#x27;;</span><br></pre></td></tr></table></figure>

<p><strong>ä¿®æ”¹å­˜å‚¨è¿‡ç¨‹</strong></p>
<p>ä¸èƒ½ä½¿ç”¨å…³é”®å­—alteræ›´æ”¹å­˜å‚¨è¿‡ç¨‹çš„å‚æ•°æˆ–å­ç¨‹åºï¼Œå¦‚æœéœ€è¦ä¿®æ”¹ï¼Œåˆ™å¿…é¡»åˆ é™¤å­˜å‚¨è¿‡ç¨‹åå†é‡æ–°åˆ›å»º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter procedure proc modify sql data sql security invoker;ä¿®æ”¹è¯»å†™æƒé™å’Œå®‰å…¨ç±»å‹</span><br></pre></td></tr></table></figure>

<p><strong>åˆ é™¤å­˜å‚¨è¿‡ç¨‹</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop procedure [if exists] proc;</span><br></pre></td></tr></table></figure>

<p>å­˜å‚¨è¿‡ç¨‹ä¸å‡½æ•°çš„è”ç³»ä¸åŒºåˆ«ï¼š</p>
<ul>
<li>å­˜å‚¨è¿‡ç¨‹å®ç°çš„åŠŸèƒ½æ›´å¤æ‚ï¼Œå‡½æ•°çš„å®ç°åŠŸèƒ½é’ˆå¯¹æ€§æ¯”è¾ƒå¼º</li>
<li>å­˜å‚¨è¿‡ç¨‹å¯ä»¥è¿”å›å‚æ•°ï¼Œä¸éœ€è¦è¿”å›ç±»å‹ï¼›å‡½æ•°åªèƒ½è¿”å›å€¼æˆ–è€…è¡¨å¯¹è±¡ï¼ˆä¸€ä¸ªï¼‰</li>
<li>å­˜å‚¨è¿‡ç¨‹å¯ä»¥ä½¿ç”¨éç¡®å®šå‡½æ•°ï¼Œä¸å…è®¸åœ¨ç”¨æˆ·å®šä¹‰å‡½æ•°ä¸»ä½“ä¸­å†…ç½®éç¡®å®šå‡½æ•°</li>
<li>å­˜å‚¨è¿‡ç¨‹ä¸€èˆ¬ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„éƒ¨åˆ†æ¥æ‰§è¡Œï¼›å‡½æ•°åœ¨selectåé¢ï¼›sqlä¸­ä¸å¯ä»¥ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹ï¼Œä½†å¯ä»¥ä½¿ç”¨å‡½æ•°</li>
</ul>
<hr>
<p>åœ¨å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°ä¸­ï¼Œå½“æŸ¥è¯¢è¯­å¥è¿”å›å¤šæ¡è®°å½•æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<strong>æ¸¸æ ‡</strong>å¯¹ç»“æœé›†è¿›è¡Œé€æ¡è¯»å–</p>
<p><strong>å®šä¹‰æ¸¸æ ‡</strong> declare</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">declare youbiao cursor for selectè¯­å¥;</span><br></pre></td></tr></table></figure>

<p><strong>æ‰“å¼€æ¸¸æ ‡</strong></p>
<p>åœ¨æ‰“å¼€ä¸€ä¸ªæ¸¸æ ‡æ—¶ï¼Œæ¸¸æ ‡å¹¶ä¸æŒ‡å‘ç¬¬ä¸€æ¡è®°å½•ï¼Œè€Œæ˜¯æŒ‡å‘ç¬¬ä¸€æ¡è®°å½•çš„å‰é¢</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open youobiao;</span><br></pre></td></tr></table></figure>

<p><strong>ä½¿ç”¨æ¸¸æ ‡</strong></p>
<p>fetch å¸¸ä¸å¾ªç¯ç»“æ„é…åˆä½¿ç”¨ï¼Œç”¨äºéå†è¡¨ä¸­çš„æ‰€æœ‰è®°å½•</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fetch youbiao into å˜é‡å;		å°†å®šä¹‰æ¸¸æ ‡æ˜¯æŸ¥è¯¢å‡ºçš„æ•°æ®èµ‹äºˆå˜é‡</span><br></pre></td></tr></table></figure>

<p><strong>å…³é—­æ¸¸æ ‡</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">close youbiao;</span><br></pre></td></tr></table></figure>

<p>ä¾‹å­ï¼š</p>
<p>åˆ›å»ºå­˜å‚¨è¿‡ç¨‹ï¼Œå¹¶æ˜¾ç¤ºå‰3ååŒå­¦çš„xhã€xm</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line">    CREATE PROCEDURE proc1()</span><br><span class="line">    BEGIN </span><br><span class="line">        DECLARE s_xh VARCHAR(20);</span><br><span class="line">        DECLARE s_name VARCHAR(50);</span><br><span class="line">        </span><br><span class="line">        DECLARE stu CURSOR FOR SELECT xh, xm from xsjbxxb;</span><br><span class="line">        OPEN stu;</span><br><span class="line">        </span><br><span class="line">        FETCH stu INTO  s_xh, s_name;</span><br><span class="line">        SELECT s_xh, s_name;</span><br><span class="line">        FETCH stu INTO s_xh, s_name;</span><br><span class="line">        SELECT s_xh, s_name;</span><br><span class="line">        FETCH stu INTO  s_xh, s_name;</span><br><span class="line">        SELECT s_xh, s_name;</span><br><span class="line">        SELECT s_xh, s_name;</span><br><span class="line">        </span><br><span class="line">        CLOSE stu;</span><br><span class="line">        </span><br><span class="line">    END $$</span><br><span class="line">DELIMITER;</span><br></pre></td></tr></table></figure>

<p>ç»Ÿè®¡xsjbxxbä¸­age&gt;20</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$</span><br><span class="line">	CREATE PROCEDURE proc2()</span><br><span class="line">        BEGIN </span><br><span class="line">            DECLARE total int;</span><br><span class="line">            DECLARE id VARCHAR(20) CHARACTER SET utf8;</span><br><span class="line">            DECLARE done INT DEFAULT 0;</span><br><span class="line">            </span><br><span class="line">            DECLARE cur CURSOR FOR SELECT xh FROM xsjbxxb WHERE age &gt; 20;</span><br><span class="line">            DECLARE CONTINUE HANDLER FOR NOT found SET done = 1;</span><br><span class="line">            æŒ‡å®šæ¸¸æ ‡å¾ªç¯ç»“æŸæ—¶çš„è¿”å›å€¼</span><br><span class="line">            open cur;</span><br><span class="line">            set total = 0;</span><br><span class="line">            WHILE done != 1 DO</span><br><span class="line">                FETCH cur INTO id;</span><br><span class="line">                    if done != 1 THEN</span><br><span class="line">                        SET total = total + 1;</span><br><span class="line">                    END IF;</span><br><span class="line">            END WHILE;</span><br><span class="line">            CLOSE cur;</span><br><span class="line">            </span><br><span class="line">            SELECT &quot;å¹´é¾„å¤§äº20å²çš„æœ‰ï¼š&quot;,total,&quot;äºº&quot;;</span><br><span class="line">        END $$</span><br><span class="line">DELIMITER ;</span><br><span class="line"></span><br><span class="line">call proc();</span><br></pre></td></tr></table></figure>

<p><strong>è§¦å‘å™¨</strong></p>
<ul>
<li>ä¸å­˜å‚¨è¿‡ç¨‹ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€æ®µç¨‹åºä»£ç ã€‚ä½†è§¦å‘å™¨æ˜¯ç”±äº‹ä»¶æ¿€å‘æŸä¸ªæ“ä½œçš„ï¼ˆå½“è¡¨ä¸­å‡ºç°ç‰¹å®šäº‹ä»¶æ—¶å°±ä¼šæ¿€å‘è¯¥å¯¹è±¡ï¼‰</li>
<li>æ˜¯ç‰¹æ®Šå­˜å‚¨è¿‡ç¨‹ï¼Œåªè¦ä¸€ä¸ªé¢„å®šä¹‰çš„ç‚¹äº‹ä»¶å‘ç”Ÿå°±ä¼šè¢«mysqlè‡ªåŠ¨è°ƒç”¨</li>
</ul>
<p>â€‹		å¼•å‘è§¦å‘å™¨æ‰§è¡Œçš„äº‹ä»¶ä¸€èˆ¬å¦‚ä¸‹ï¼š</p>
<ul>
<li>å¢åŠ ä¸€æ¡å­¦ç”Ÿè®°å½•æ—¶ï¼Œè‡ªåŠ¨æ£€æŸ¥å¹´é¾„æ˜¯å¦ç¬¦åˆèŒƒå›´è¦æ±‚</li>
<li>åˆ é™¤ä¸€æ¡å­¦ç”Ÿä¿¡æ¯æ—¶ï¼Œè‡ªåŠ¨åˆ é™¤å…¶æˆç»©è¡¨ä¸Šå¯¹åº”çš„è®°å½•</li>
<li>åˆ é™¤ä¸€æ¡æ•°æ®æ—¶ï¼Œä¼šåœ¨æ•°æ®åº“å­˜æ¡£è¡¨ä¸­ä¿ç•™ä¸€ä¸ªå¤‡ä»½å‰¯æœ¬</li>
<li>æ‰§è¡Œæ˜¯è‡ªåŠ¨çš„ï¼Œå½“å¯¹è§¦å‘å™¨ç›¸å…³è¡¨çš„æ•°æ®è¿›è¡Œä¿®æ”¹åå¯ç«‹å³æ‰§è¡Œ</li>
<li>è§¦å‘å™¨å¯ä»¥é€šè¿‡æ•°æ®åº“ç›¸å…³çš„è¡¨å±‚å ä¿®æ”¹å¦å¤–çš„è¡¨</li>
<li>è§¦å‘å™¨å¯ä»¥å®æ–½æ¯”å¤–é”®çº¦æŸã€checkçº¦æŸæ›´ä¸ºå¤æ‚çš„æ£€æŸ¥å’Œæ“ä½œ</li>
<li>ä¸è¡¨å…³ç³»å¯†åˆ‡ï¼Œä¸»è¦ç”¨äºä¿æŠ¤è¡¨ä¸­çš„æ•°æ®ã€‚ç‰¹åˆ«æ˜¯å½“æœ‰å¤šä¸ªè¡¨å…·æœ‰ä¸€å®šçš„ç›¸äº’è”ç³»æ—¶ï¼Œè§¦å‘å™¨èƒ½è®©ä¸åŒçš„è¡¨ä¿æŒæ•°æ®çš„ä¸€è‡´æ€§</li>
</ul>
<p><strong>insertè§¦å‘å™¨</strong></p>
<p>åœ¨insertè¯­å¥æ‰§è¡Œä¹‹å‰æˆ–ä¹‹åå“åº”çš„è§¦å‘å™¨ï¼ˆåé¢åŒç†ï¼‰</p>
<ul>
<li>åœ¨insertè§¦å‘å™¨ä»£ç å†…ï¼Œå¯å¼•ç”¨ä¸€ä¸ªåä¸ºnewçš„è™šæ‹Ÿè¡¨æ¥è®¿é—®è¢«æ’å…¥çš„è¡Œ</li>
<li>â€¦before insertâ€¦â€¦â€¦newä¸­çš„å€¼ä¹Ÿå¯ä»¥è¢«æ›´æ–°ï¼ˆå¯ä¿®æ”¹è¢«æ’å…¥çš„å€¼ï¼ˆè¦æœ‰æƒé™ï¼‰ï¼‰</li>
<li>å¯¹äºauto_incrementåˆ—ï¼Œnewåœ¨insertæ‰§è¡Œä¹‹å‰åŒ…å«çš„å€¼æ˜¯0ï¼Œåœ¨insertæ‰§è¡Œä¹‹åå°†åŒ…å«æ–°çš„è‡ªåŠ¨ç”Ÿæˆå€¼</li>
</ul>
<p><strong>updateè§¦å‘å™¨</strong></p>
<ul>
<li>åœ¨updateè§¦å‘å™¨ä»£ç å†…ï¼Œå¯å¼•ç”¨ä¸€ä¸ªåä¸ºnewçš„è™šæ‹Ÿè¡¨æ¥è®¿é—®è¢«æ›´æ–°çš„å€¼</li>
<li>â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦oldâ€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦updateè¯­å¥æ‰§è¡Œä¹‹å‰çš„å€¼</li>
<li>oldä¸­çš„å€¼å…¨æ˜¯åªè¯»çš„</li>
<li>åœ¨before updateè§¦å‘å™¨ä»£ç å†…ï¼Œnewä¸­çš„å€¼å¯èƒ½ä¹Ÿä¼šè¢«æ›´æ–°ï¼Œå³å…è®¸æ›´æ”¹å°†è¦ç”¨äºupdateè¯­å¥ä¸­çš„å€¼</li>
</ul>
<p>å½“è§¦å‘å™¨è®¾è®¡å¯¹è§¦å‘è¡¨è‡ªèº«æ›´æ–°æ“ä½œæ—¶ï¼Œåªèƒ½ä½¿ç”¨beforeç±»å‹çš„è§¦å‘å™¨ï¼Œafterç±»å‹ çš„åˆ™ä¸è¢«å…è®¸</p>
<p><strong>deleteè§¦å‘å™¨</strong></p>
<p>åœ¨deleteè§¦å‘å™¨ä»£ç å†…ï¼Œå¯å¼•ç”¨oldçš„è™šæ‹Ÿè¡¨æ¥è®¿é—®è¢«åˆ é™¤çš„è¡Œ</p>
<p>è§¦å‘å™¨å‡ºç°é”™è¯¯ï¼Œmysqlçš„å¤„ç†ï¼š</p>
<ul>
<li>å¯¹äºäº‹åŠ¡æ€§è¡¨ï¼Œè§¦å‘ç¨‹åºå¤±è´¥ï¼Œä»¥åŠç”±æ­¤å¯¼è‡´çš„æ•´ä¸ªè¯­å¥å¤±è´¥ï¼Œé‚£ä¹ˆè¯¥è¯­å¥æ‰€æ‰§è¡Œçš„æ‰€æœ‰æ›´æ”¹å°†å›æ»šï¼›å¯¹äºéäº‹åŠ¡æ€§è¡¨ï¼Œåˆ™ä¸èƒ½æ‰§è¡Œæ­¤ç±»å›æ»šï¼Œå³ä½¿è¯­å¥å¤±è´¥ï¼Œå¤±è´¥ä¹‹å‰æ‰€ä½œçš„ä»»ä½•æ›´æ”¹ä¾ç„¶æœ‰æ•ˆ</li>
<li>è‹¥beforeè§¦å‘ç¨‹åºå¤±è´¥ï¼Œåˆ™mysqlå°†ä¸æ‰§è¡Œç›¸åº”è¡Œä¸Šçš„æ“ä½œã€‚è‹¥åœ¨beforeæˆ–afterè§¦å‘ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œåˆ™å°†å¯¼è‡´è°ƒç”¨è§¦å‘ç¨‹åºçš„æ•´ä¸ªè¯­å¥å¤±è´¥ã€‚ä»…å½“beforeè§¦å‘ç¨‹åºå’Œè¡Œæ“ä½œå‡å·²è¢«æˆåŠŸæ‰§è¡Œï¼Œmysqlæ‰ä¼šæ‰§è¡Œafterè§¦å‘ç¨‹åº</li>
</ul>
<p><strong>åˆ›å»ºè§¦å‘å™¨</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create trigger è§¦å‘å™¨å before/after insert/update/delete on è¡¨å for each row ä¸»ä½“;</span><br></pre></td></tr></table></figure>

<p>è¡¨åæŠŠå¿…é¡»æ˜¯æ°¸ä¹…æ€§è¡¨ï¼Œä¸èƒ½æŠŠä¸´æ—¶è¡¨æˆ–è€…è§†å›¾å’Œè¿™ä¸ªå…³è”èµ·æ¥</p>
<p>åŒä¸€ä¸ªè¡¨ä¸èƒ½æ‹¥æœ‰ä¸¤ä¸ªå…·æœ‰ç›¸åŒè§¦å‘æ—¶åˆ»å’Œäº‹ä»¶çš„è§¦å‘å™¨ï¼ˆä¸èƒ½åŒæ—¶æœ‰ä¸¤ä¸ªbefore insertï¼‰</p>
<p>ä¸»ä½“:è¡¨ç¤ºè§¦å‘å™¨çš„åŠ¨ä½œä¸»ä½“ï¼ŒåŒ…å«æ¿€å‘å™¨æ¿€æ´»æ—¶è¦æ‰§è¡Œçš„mysqlè¯­å¥ã€‚å¦‚æœæœ‰å¤šä¸ªï¼Œå³ç”¨beginâ€¦â€¦endå¤åˆè¯­å¥ç»“æ„</p>
<p>æ¯ä¸ªè¡¨æœ€å¤šæ”¯æŒ6ä¸ªè§¦å‘å™¨ï¼Œæ¯ä¸ªè¡¨çš„æ¯ä¸ªäº‹ä»¶æ¯æ¬¡åªå…è®¸æœ‰ä¸€ä¸ªè§¦å‘å™¨ï¼Œå³å•ä¸€è§¦å‘å™¨ä¸èƒ½ä¸å¤šä¸ªäº‹ä»¶æˆ–å¤šä¸ªè¡¨å…³è”</p>
<p><strong>beforeç±»å‹è§¦å‘å™¨</strong></p>
<p>åˆ›å»ºè§¦å‘æ¡ä»¶ä¸ºå‘è¡¨tb_emp8æ’å…¥æ•°å­—ä¹‹å‰ï¼Œå¯¹æ–°æ’å…¥çš„salaryå­—æ®µå€¼è¿›è¡Œæ±‚å’Œè®¡ç®—</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">create trigger Summ before insert on tb_emp8 for each row set @sum=@sum+new.salary;</span><br><span class="line"></span><br><span class="line">set @sum=0;</span><br><span class="line">insert into tb_emp8 values(1,&#x27;A&#x27;,1000),(2,&#x27;B&#x27;,2000);</span><br><span class="line"></span><br><span class="line">select @sum;</span><br></pre></td></tr></table></figure>

<p><strong>afterç±»å‹è§¦å‘å™¨</strong></p>
<p>åˆ›å»ºä¸€ä¸ªåä¸ºdsçš„è§¦å‘å™¨ï¼Œè§¦å‘æ¡ä»¶æ˜¯å‘è¡¨te6ä¸­æ’å…¥æ•°æ®åï¼Œå†å‘te7ä¸­æ’å…¥ç›¸åŒçš„æ•°æ®ï¼Œå¹¶ä¸”salaryä¸ºte6ä¸­æ–°æ’å…¥çš„å­—æ®µå€¼çš„2å€</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create trigger ds after insert on te6 for each row insert into te7 value(new.id,new.name);</span><br></pre></td></tr></table></figure>

<p><strong>æŸ¥çœ‹è§¦å‘å™¨</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">show triggers;</span><br><span class="line">æŸ¥çœ‹æŸä¸ªè¡¨ä¸Šçš„ï¼š show triggers from æ•°æ®åº“å like è¡¨å;</span><br><span class="line">ç²¾ç¡®æŸ¥çœ‹æŸä¸ªè§¦å‘å™¨ï¼š show triggers where &#x27;trigger&#x27; like &#x27;åå­—%&#x27;;</span><br><span class="line"></span><br><span class="line">è§¦å‘å™¨çš„è¯¦ç»†ä¿¡æ¯ï¼š select *from æ•°æ®åº“ where trigger_name=&#x27;&#x27;ï¼›</span><br></pre></td></tr></table></figure>

<p><strong>åˆ é™¤è§¦å‘å™¨</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop trigger æ•°æ®åº“.è§¦å‘å™¨åå­—;</span><br></pre></td></tr></table></figure>

<p><strong>äº‹ä»¶</strong></p>
<p>è°ƒåº¦äº‹ä»¶ï¼šæŒ‡æŒ‰è°ƒåº¦è¡¨è¿è¡Œçš„ä»»åŠ¡</p>
<p>åˆ›å»ºäº‹ä»¶æ—¶ï¼Œå¯å°†å…¶åˆ›å»ºä¸ºå‘½åæ•°æ®åº“å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«åœ¨ç‰¹å®šæ—¶é—´æ‰§è¡Œæˆ–å®šæœŸé‡å¤çš„sqlè¯­å¥ï¼ˆæˆ–å­˜å‚¨è¿‡ç¨‹ï¼‰</p>
<p>äº‹ä»¶ä¸è§¦å‘å™¨ï¼š</p>
<ul>
<li>ç›¸åŒç‚¹ï¼š</li>
</ul>
<p>â€‹		åœ¨æŸäº›äº‹æƒ…å‘ç”Ÿæ—¶å¯åŠ¨</p>
<ul>
<li>ä¸åŒç‚¹ï¼š</li>
</ul>
<p>â€‹		äº‹ä»¶åŸºäºç‰¹å®šæ—¶é—´å‘¨æœŸæ¥è§¦å‘æ‰§è¡ŒæŸäº›ä»»åŠ¡ï¼›è§¦å‘å™¨åŸºäºæŸä¸ªè¡¨æ‰€äº§ç”Ÿçš„äº‹ä»¶æ¥è§¦å‘</p>
<p><strong>æŸ¥çœ‹äº‹ä»¶çŠ¶æ€</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">show variables like &#x27;event_scheduler&#x27;;</span><br><span class="line">select @@event_scheduler;</span><br><span class="line"></span><br><span class="line">set global event_scheduler=on/off/1/0;</span><br><span class="line">set @@global.event_scheduler=on/off/1/0;</span><br></pre></td></tr></table></figure>

<p><strong>åˆ›å»ºäº‹ä»¶</strong></p>
<p>äº‹ä»¶event_minuteï¼Œè®¾å®šåœ¨2022-06-01 09:40:00æ—¶æ¯åˆ†é’Ÿå‘æ•°æ®è¡¨ub_emp8ä¸­æ’å…¥ä¸€æ¡è®°å½•ï¼Œç„¶ååˆ›å»ºäº‹ä»¶ï¼Œäº‹ä»¶ç±»å‹ï¼šé—´éš”è§¦å‘&#x2F;ç‰¹å®šäº‹ä»¶è§¦å‘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">DROP EVENT</span><br><span class="line">IF EXISTS event_minute;</span><br><span class="line">delimiter $$</span><br><span class="line">    CREATE DEFINER = &#x27;root&#x27;@&#x27;localhost&#x27; EVENT event_minue ON SCHEDULE EVERY 1 MINUTE 		STARTS &#x27;2022-06-01 09:40:00&#x27; ON COMPLETION NOT PRESERVE ENABLE DO</span><br><span class="line">    BEGIN</span><br><span class="line">        INSERT INTO tb_emp8</span><br><span class="line">            VALUES(3, &#x27;C&#x27;, 1000);</span><br><span class="line">        INSERT INTO tb_emp8</span><br><span class="line">            VALUES(4, &#x27;D&#x27;, 1000);</span><br><span class="line">	END $$</span><br></pre></td></tr></table></figure>

<p><strong>æŸ¥çœ‹äº‹ä»¶</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show events;</span><br></pre></td></tr></table></figure>

<p>æ‰€æœ‰è§¦å‘å™¨çš„å®šä¹‰éƒ½å­˜å‚¨åœ¨ç³»ç»Ÿæ•°æ®åº“ä¸­çš„information_schemaçš„eventsè¡¨ä¸­</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select *from information_schema where events_name=&#x27;äº‹ä»¶å&#x27;;</span><br></pre></td></tr></table></figure>

<p><strong>åˆ é™¤äº‹ä»¶</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop event [if exist] äº‹ä»¶å;</span><br></pre></td></tr></table></figure>

<p><strong>ç¦ç”¨äº‹ä»¶</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter event äº‹ä»¶å disable;</span><br></pre></td></tr></table></figure>

<p><strong>å¼€å¯äº‹ä»¶</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter event äº‹ä»¶å enable;</span><br></pre></td></tr></table></figure>

<p><strong>ä¿®æ”¹äº‹ä»¶</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter event äº‹ä»¶å;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/%E6%95%B0%E6%8D%AE%E5%BA%93/" data-id="clnx7gbvx000mm4u268s310as" data-title="mysqlæ€»ç»“" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-STLæ€»ç»“" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/STL%E6%80%BB%E7%BB%93/" class="article-date">
  <time class="dt-published" datetime="2021-06-08T16:00:00.000Z" itemprop="datePublished">2021-06-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/STL%E6%80%BB%E7%BB%93/">å¯¹æ‹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="STLæ€»ç»“"><a href="#STLæ€»ç»“" class="headerlink" title="STLæ€»ç»“"></a>STLæ€»ç»“</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¿­ä»£å™¨ä¾‹å­ï¼š`</span><br><span class="line">set&lt;<span class="type">int</span>&gt;:: iterator it;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(it = x.<span class="built_in">begin</span>(); it != x.<span class="built_in">end</span>(); ++it)</span><br><span class="line">		 x.<span class="built_in">rbegin</span>();	  x.rend;  ++	 (åå‘è¿­ä»£å™¨)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> w: x)</span><br></pre></td></tr></table></figure>

<p>æ’åºï¼š <code>sort(v.begin(), v.end())</code>  ï¼ˆåŒ…æ‹¬å­—æ¯ï¼‰ï¼ˆ<code>less&lt;int&gt;()</code> &#x2F; <code>greater&lt;int&gt;()</code>ï¼‰</p>
<h3 id="vector"><a href="#vector" class="headerlink" title="vector"></a>vector</h3><p><code>vector&lt;int&gt; a(n + 1);</code>	èƒ½å…ˆå¼€è¾Ÿå…ˆå¼€è¾Ÿï¼Œå¦‚æœè¾“å…¥å¤±è´¥åˆå¯èƒ½è¿™é‡Œå‡ºé—®é¢˜äº†</p>
<p><code>vector&lt;int&gt; b = a;</code>	å®šä¹‰çš„æ—¶å€™ç­‰äºï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºé—®é¢˜</p>
<h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><p>é»˜è®¤keyä»å°åˆ°å¤§æ’åº</p>
<p>è‡ªå®šä¹‰æŒ‰value :sort  <code>cmp(pair&lt;int, int&gt;a, pair&lt;int, int&gt;b)  return a.second &lt; b.second;</code></p>
<p>è·å–æœ€å¤§å€¼ï¼š <code>auto i = max_element(t.begin(), t.end(), cmp)</code> <algorithm> (è¿˜æœ‰<code>min_element</code>)</p>
<p><code>map&lt;int, set&lt;string&gt;&gt; m;</code></p>
<p><code>word[len] = set&lt;string&gt;();</code> (åªæ˜¯åˆ›å»ºç©ºé—´ï¼Œ ä¼šé‡ç½®åŸæ•°æ®)</p>
<p>è¿”å›å‡ºç°æ¬¡æ•°ï¼š<code>m.count(length)</code></p>
<p>å¯ä»¥mp.first(); mp.second();</p>
<h3 id="pair"><a href="#pair" class="headerlink" title="pair"></a>pair</h3><p>å…ˆæ¯”è¾ƒç¬¬ä¸€ä¸ªï¼Œç¬¬ä¸€ä¸ªç›¸åŒå†æ¯”è¾ƒç¬¬äºŒä¸ª</p>
<p>å½“æƒ³æ’å…¥ä¸¤ä¸ªï¼š <code>q.push(make_pair(0, 0));</code></p>
<h3 id="string"><a href="#string" class="headerlink" title="string"></a>string</h3><p>å¤§å°è½¬ å°å†™ï¼š<code>transform(s.begin(), s.end(), s.begin(),tolower)</code></p>
<p>å°å†™è½¬å¤§å†™ï¼š<code>toupper</code></p>
<p>æœ‰ç©ºæ ¼ï¼š<code>getline(cin, s);</code></p>
<p><code>s.substr(0ï¼Œn)</code>: ä»1å¼€å§‹æ•°nä¸ª</p>
<p><code>s.reverse(s.begin(), s.end())</code> : å­—ç¬¦ä¸²ç¿»è½¬</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s.<span class="built_in">insert</span>(pos,  string, pos1, size_n) : ä»pos1å¼€å§‹æ•°çš„ç¬¬nä¸ªå­—ç¬¦æ’åœ¨poså‰</span><br><span class="line">s.<span class="built_in">insert</span>(pos, n, <span class="type">char</span> c) : åœ¨ä¸‹æ ‡ä¸ºposå‰æ’å…¥nä¸ªå­—ç¬¦<span class="built_in">c</span> (nä¸ªç›¸åŒçš„)</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.<span class="built_in">count</span>(begin, end, <span class="string">&quot;s&quot;</span>);</span><br></pre></td></tr></table></figure>



<h3 id="set"><a href="#set" class="headerlink" title="set"></a>set</h3><p>å»é‡ + è‡ªåŠ¨æ’åº</p>
<p>multisetï¼š ä¸å»é‡ï¼ˆå¯ä»¥åˆ é™¤æŸä¸ªç‚¹ï¼‰</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s.erase(pos) åˆ é™¤posè¿­ä»£å™¨æ‰€é€‰å…ƒç´ </span><br><span class="line">s.erase(x.begin(), x.end()) åˆ é™¤[begin, end)å†…æ‰€æœ‰å…ƒç´ </span><br><span class="line">s.erase(elem) åˆ é™¤å€¼ä¸ºelemçš„å…ƒç´ </span><br></pre></td></tr></table></figure>

<p>set.count(string s) ï¼š setå†…æœ‰å‡ ä¸ªä¸sç›¸åŒçš„  &#x2F;&#x2F;<strong>stringåŒæ ·å¯ç”¨</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set.<span class="built_in">count</span>(begin, end, <span class="string">&quot;s&quot;</span>);</span><br><span class="line">set.<span class="built_in">count</span>(<span class="string">&quot;s&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="queue"><a href="#queue" class="headerlink" title="queue"></a>queue</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">queue&lt;pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt;&gt; q;</span><br><span class="line">q.<span class="built_in">insert</span>(&#123;a, b&#125;);</span><br><span class="line">q.<span class="built_in">pop</span>();</span><br><span class="line"><span class="type">int</span> c = q.<span class="built_in">front</span>().first;</span><br><span class="line"><span class="type">int</span> d = q.<span class="built_in">front</span>().second;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/STL%E6%80%BB%E7%BB%93/" data-id="clnx7gbvo0005m4u27vnsf9rn" data-title="å¯¹æ‹" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-STLå…³äº50æ¡æ€»ç»“" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/STL%E5%85%B3%E4%BA%8E50%E6%9D%A1%E6%80%BB%E7%BB%93/" class="article-date">
  <time class="dt-published" datetime="2021-05-08T16:00:00.000Z" itemprop="datePublished">2021-05-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/STL%E5%85%B3%E4%BA%8E50%E6%9D%A1%E6%80%BB%E7%BB%93/">å¯¹æ‹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="STLå…³äº50æ¡æ€»ç»“ï¼ˆeffective-stlï¼‰"><a href="#STLå…³äº50æ¡æ€»ç»“ï¼ˆeffective-stlï¼‰" class="headerlink" title="STLå…³äº50æ¡æ€»ç»“ï¼ˆeffective stlï¼‰"></a>STLå…³äº50æ¡æ€»ç»“ï¼ˆeffective stlï¼‰</h2><ul>
<li>æ ‡å‡†STLåºåˆ—å®¹å™¨ï¼š vectorã€stringã€dequeã€list</li>
<li>æ ‡å‡†STLå…³è”å®¹å™¨ï¼ˆä¼šæŒ‰ç…§æŸç§æ’åºè§„åˆ™æ’å…¥ï¼‰ï¼š setã€mulitisetã€mapã€multimap</li>
<li>éæ ‡å‡†STLåºåˆ—å®¹å™¨ï¼š slistã€rope</li>
<li>éæ ‡å‡†çš„å…³è”å®¹å™¨hash_setã€hase_multisetã€hash_mapå’Œhash_multimap</li>
<li>å‡ ç§æ ‡å‡†çš„éSTLå®¹å™¨ï¼Œæ•°ç»„ã€bitsetã€valarrayã€stackã€queueå’Œpriority_queue</li>
</ul>
<p>åºåˆ—å®¹å™¨æ”¯æŒpush_front <strong>&#x2F;</strong> push_back</p>
<p>å…³è”å®¹å™¨æä¾›äº†<strong>å¯¹æ•°æ—¶é—´</strong>çš„lower_boundã€ipper_boundã€equal_range</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">è¿ç»­å†…å­˜å®¹å™¨ï¼šæ ‡å‡†ï¼š vectorã€stringã€deque</span><br><span class="line">â€‹							éæ ‡å‡†ï¼šrope</span><br><span class="line"></span><br><span class="line">åŸºäºèŠ‚ç‚¹çš„å®¹å™¨ï¼šå®¹å™¨å†…å…ƒç´ çš„æ’å…¥åˆ é™¤åªå½±å“æŒ‡å‘èŠ‚ç‚¹çš„æŒ‡é’ˆï¼ˆæä¾›äº†åŒå‘è¿­ä»£å™¨ï¼‰</span><br><span class="line">â€‹							 listã€slist</span><br><span class="line"></span><br><span class="line">æ ‡å‡†C++éƒ¨åˆ†ï¼š æ’é™¤slistã€rope</span><br><span class="line">å¯¹æ’å…¥åˆ é™¤å¤±è´¥çš„å›æ»šèƒ½åŠ›ï¼š åŸºäºèŠ‚ç‚¹çš„å®¹å™¨</span><br><span class="line">dequeçš„æ’å…¥æ“ä½œä»…åœ¨æœ«å°¾æ—¶ï¼Œè¿­ä»£å™¨å¯èƒ½ä¼šå¤±æ•ˆï¼Œä½†æŒ‡é’ˆå’Œå¼•ç”¨ä¸ä¼šå¤±æ•ˆï¼ˆç‰¹æ®Šçš„ï¼‰</span><br></pre></td></tr></table></figure>

<p>ä»»æ„ä½ç½®æ’å…¥ï¼š åºåˆ—å®¹å™¨</p>
<p><strong>å…ƒç´ æŸ¥æ‰¾é€Ÿåº¦</strong>ï¼š å“ˆå¸Œ &gt; æ’åºçš„vector &gt; æ ‡å‡†å…³è”å®¹å™¨</p>
<p>éšæœºè®¿é—®è¿­ä»£å™¨ï¼š vectorã€stringã€deque</p>
<p>â€‹							è¦æ±‚è¿™ä¸ªçš„ï¼š sortç±»çš„å‡½æ•°ã€nth_element</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">stringæ˜¯STLä¸­åœ¨swapè¿‡ç¨‹ä¸­ä¼šå¯¼è‡´è¿­ä»£å™¨ã€æŒ‡é’ˆå’Œå¼•ç”¨å˜ä¸ºæ— æ•ˆçš„å”¯ä¸€å®¹å™¨ã€‚</span><br><span class="line">STLå®¹å™¨æ˜¯å„è‡ªæœ‰ä¼˜ç¼ºç‚¹çš„ï¼Œä¸èƒ½æ··åœ¨ä¸€èµ·ç”¨ã€‚</span><br><span class="line">	æœ‰æ—¶å€™å¯èƒ½ä¼šæ”¹å®¹å™¨ï¼Œè¿™æ—¶å€™ä½¿ç”¨å°è£…P14ï¼ˆæš‚æ—¶ä¸æƒ³çœ‹æ‡‚ï¼‰</span><br><span class="line">æ‹·è´å¯¹è±¡æ˜¯STLçš„å·¥ä½œæ–¹å¼</span><br><span class="line">é€šè¿‡åˆ©ç”¨æ’å…¥è¿­ä»£å™¨çš„æ–¹å¼æ¥é™å®šç›®æ ‡åŒºé—´çš„copyè°ƒç”¨ï¼Œå‡ ä¹å…¨éƒ¨åº”æ›¿æ¢ä¸ºå¯¹åŒºé—´æˆå‘˜å‡½æ•°çš„è°ƒç”¨</span><br></pre></td></tr></table></figure>

<p>map&lt;string, vector&lt;ç±»&gt;&gt;<strong>éå†</strong>ï¼š map&lt;string, vector&lt;ç±»&gt; : : iterator&gt; : : const_iterator</p>
<p>if(c.size() &#x3D;&#x3D; 0)	<strong>&lt;&#x3D;&gt;</strong>	if(c.empty()) (è¿™ä¸ªæ›´ä¼˜,å¯¹æ‰€æœ‰å®¹å™¨éƒ½ä¸ºå¸¸æ•°æ“ä½œ)</p>
<p>ä¸¤ä¸ªvector 	ä½¿v1çš„å†…å®¹å’Œv2çš„ååŠéƒ¨åˆ†ç›¸åŒçš„æœ€ç®€å•æ“ä½œï¼š</p>
<p><code>																	v1.assign(v2.begin() + v2.size() / 2, v2.end());</code> (copyä¹Ÿå½±å“æ•ˆç‡ï¼Œä¸è¡Œ)</p>
<p>å¯¹åŒºé—´å‡½æ•°è°ƒç”¨ï¼š <code>v1.insert(v1.end(), v2.begin(), + v2.size() / 2, v2.end());</code></p>
<p>â€‹						ï¼ˆæ•°ç»„æ’åˆ°vectorä¹Ÿå¯ç”¨ï¼‰</p>
<p>â€‹	assignï¼š éœ€è¦å®Œå…¨æ›¿æ¢ä¸€ä¸ªæ ‡å‡†åºåˆ—å®¹å™¨å†…å®¹æ—¶</p>
<p>â€‹	operator &#x3D; : å¯é€‰æ‹©çš„èµ‹å€¼å‡½æ•° <strong>ï¼Ÿ</strong></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/STL%E5%85%B3%E4%BA%8E50%E6%9D%A1%E6%80%BB%E7%BB%93/" data-id="clnx7gbvk0001m4u224ludyj7" data-title="å¯¹æ‹" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-DFS" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/DFS/" class="article-date">
  <time class="dt-published" datetime="2021-02-08T16:00:00.000Z" itemprop="datePublished">2021-02-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/DFS/">dfs</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h2><h5 id="å°æŠ€å·§"><a href="#å°æŠ€å·§" class="headerlink" title="å°æŠ€å·§"></a>å°æŠ€å·§</h5><p><code>while(cin &gt;&gt; ch)</code></p>
<p>ä¸€èˆ¬æšä¸¾æ‰€æœ‰çš„ä¸¤ç§æ–¹æ¡ˆdfs ï¼ˆ2^nï¼‰**&#x2F; ** äºŒè¿›åˆ¶(n * 2^n) </p>
<blockquote>
<p>çœ‹ç¬¬ i ä½æ˜¯ä¸æ˜¯1ï¼Œå¯ä»¥å³ç§» i ä½å† &amp;1 çœ‹  <code>u &gt;&gt; i &amp; 1</code>  ï¼ˆè¦ä»0å¼€å§‹æšä¸¾ï¼‰</p>
</blockquote>
<p>å¦‚æœéœ€è¦æ‹¼æ¥ï¼š dfs</p>
<p>èƒ½å‰ªæçš„å°±æŠŠå®ƒå…ˆå‰ªäº†ï¼ˆåœ¨ç¡®è®¤æ²¡é”™çš„æƒ…å†µä¸‹ï¼‰</p>
<p>æ‰¾åŒºé—´ï¼š  </p>
<p><code>ret += upper_bound(a.begin(), a.end(), 3 * a[j] - 2 * a[i]) - lower_bound(a.begin(), a.end(), 2 * a[j] - a[i]);</code>ï¼ˆæ‰¾zï¼‰</p>
<p>äºŒåˆ†ä¹Ÿè¡Œå•Šï¼Œåˆ«å†ä¸€ä¸ªä¸€ä¸ªè¯•äº†<br>$$<br>ç»™å‡º n æ ¹é•¿åº¦ä¸ä¸€çš„æœ¨æ£ï¼Œç¬¬ i æ ¹æ£å­é•¿åº¦ä¸º a_i ã€‚ä¸¤æ ¹é•¿åº¦åˆ†åˆ«ä¸ºa_bå’Œa_cçš„æœ¨æ£å¯ä»¥æ‹¼æ¥æˆä¸€æ ¹é•¿åº¦ä¸ºa_b + a_cçš„æœ¨æ£ï¼ŒåŒç†3æ ¹,4æ ¹ï¼Œç”šè‡³næ ¹éƒ½èƒ½æ‹¼æ¥ã€‚ </p>
<p>é—®ï¼šä½¿ç”¨è¿™ n æ ¹æœ¨æ£ä½œä¸‰è§’å½¢çš„è¾¹ï¼ˆä¸€æ ¹æœ¨æ£è‡³å¤šä½¿ç”¨ä¸€æ¬¡ï¼Œä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ï¼‰ï¼Œèƒ½æ‹¼å‡ºçš„é¢ç§¯æœ€å¤§çš„ä¸‰è§’å½¢çš„é¢ç§¯ã€‚<br>$$</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">double</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> l1, <span class="type">int</span> l2, <span class="type">int</span> l3, <span class="type">int</span> cnt)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(cnt&gt;n) <span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//æœ€ä¼˜æ€§å‰ªæï¼Ÿï¼Ÿ</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">judge</span>(l1, l2, l3))</span><br><span class="line">    &#123;</span><br><span class="line">        mx = <span class="built_in">max</span>(mx,<span class="built_in">area</span>(l1,l2,l3));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs</span>(l1+a[cnt],l2,l3,cnt+<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">dfs</span>(l1,l2+a[cnt],l3,cnt+<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">dfs</span>(l1,l2,l3+a[cnt],cnt+<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">dfs</span>(l1,l2,l3,cnt+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> mx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">string s = <span class="string">&quot;BESIGOM&quot;</span>;</span><br><span class="line">	map&lt;<span class="type">char</span>, <span class="type">int</span>&gt; v;</span><br><span class="line">	<span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; (<span class="number">1</span> &lt;&lt; <span class="number">7</span>); ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">7</span>; ++j)</span><br><span class="line">			v[s[j]] = i &gt;&gt; j &amp; <span class="number">1</span>;<span class="comment">//</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">auto</span> w : v) &#123;</span><br><span class="line">			cout &lt;&lt; w.first &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; w.second &lt;&lt; endl;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> ((v[<span class="string">&#x27;B&#x27;</span>] + v[<span class="string">&#x27;I&#x27;</span>]) * (v[<span class="string">&#x27;G&#x27;</span>] + v[<span class="string">&#x27;O&#x27;</span>] + v[<span class="string">&#x27;E&#x27;</span>] + v[<span class="string">&#x27;S&#x27;</span>]) * v[<span class="string">&#x27;M&#x27;</span>] % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="type">int</span> temp = <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">7</span>; ++j)</span><br><span class="line">				temp *= mp[i &gt;&gt; j &amp; <span class="number">1</span>][s[j]];<span class="comment">//ç»„åˆæ•°å­¦</span></span><br><span class="line">			ans += temp;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">æœ€é•¿æ­£æ–¹å½¢æœç´¢ï¼Œ dpå¯åš ï¼ˆæœ€å¥½ä»<span class="number">1</span>ï¼Œ<span class="number">1</span>å¼€å§‹å­˜ï¼‰</span><br><span class="line">   dp: æŸ¥ä¸Šæ–¹ï¼Œå·¦æ–¹ï¼Œå·¦ä¸Šæ–¹ </span><br><span class="line">       f[i][j]=<span class="built_in">min</span>(<span class="built_in">min</span>(f[i][j<span class="number">-1</span>],f[i<span class="number">-1</span>][j]),f[i<span class="number">-1</span>][j<span class="number">-1</span>])+<span class="number">1</span></span><br><span class="line">       ans = <span class="built_in">max</span>(f[i][j], ans); maxè¯´æ˜äº†èƒ½å–æˆåŠŸï¼Œ f[n][m]ä¸ä¸€å®šèƒ½å–æˆåŠŸ</span><br><span class="line"><span class="type">int</span> a[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"><span class="type">int</span> n, m, xx, yy, temp = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (!a[x][y])</span><br><span class="line">		<span class="keyword">return</span> ;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = xx; i &lt; x; ++i) </span><br><span class="line">		<span class="keyword">if</span> (!a[i][y]) <span class="keyword">return</span> ;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = yy; i &lt; y; ++i) </span><br><span class="line">		<span class="keyword">if</span> (!a[x][i]) <span class="keyword">return</span> ;</span><br><span class="line">	++temp;</span><br><span class="line">	<span class="built_in">dfs</span>(x + <span class="number">1</span>, y + <span class="number">1</span>);<span class="comment">//ç›´æ¥æœä¸‹ä¸€å±‚ï¼ˆï¼‰æ–œå¯¹è§’å¯ä»¥æœ</span></span><br><span class="line">&#125;</span><br><span class="line">	<span class="type">int</span> ans = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; ++j) &#123;</span><br><span class="line">			<span class="keyword">if</span> (a[i][j]) &#123;</span><br><span class="line">				temp = <span class="number">0</span>;</span><br><span class="line">				xx = i, yy = j;</span><br><span class="line">				<span class="built_in">dfs</span>(i, j);</span><br><span class="line">				ans = <span class="built_in">max</span>(ans, temp);<span class="comment">//æ˜¯å¯ä»¥æ”¾å‡ºæ¥çš„</span></span><br><span class="line">	&#125;	&#125;	&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n, a[<span class="number">20</span>];	<span class="type">bool</span> vis[<span class="number">20</span>];	<span class="comment">//å…¨éƒ¨é€‰æ‹©ï¼Œå¯¹nå‡åºæ’åº</span></span><br><span class="line"><span class="comment">// ä¸€å…±tarä¸ªå‘ï¼Œå½“å‰æšä¸¾åˆ°ç¬¬posä¸ªå‘</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> pos, <span class="type">int</span> tar)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (pos == tar + <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= tar; i ++ ) cout &lt;&lt; a[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é€‰æ•°å¡«å‘ï¼Œé€‰æ‹©çš„æ•°èŒƒå›´æ˜¯1ï½n</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!vis[i]) &#123;</span><br><span class="line">            vis[i] = <span class="literal">true</span>; a[pos] = i;</span><br><span class="line">            <span class="built_in">dfs</span> (pos + <span class="number">1</span>, tar);</span><br><span class="line">            vis[i] = <span class="literal">false</span>;</span><br><span class="line">     &#125;	&#125;	&#125;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) <span class="built_in">dfs</span>(<span class="number">1</span>, i);</span><br><span class="line"><span class="comment">//åªéœ€è¦å°çš„åœ¨å‰ï¼Œå¤§çš„åœ¨åï¼Œå¢åŠ æ¡ä»¶</span></span><br><span class="line"><span class="comment">// å½“å‰æšä¸¾åˆ°ç¬¬posä¸ªå‘ï¼Œ ä¸Šä¸€ä¸ªå‘å¡«çš„æ˜¯start-1ï¼Œè¿™æ¬¡åªèƒ½ä»startå¼€å§‹æ‰¾æ•°å¡«ï¼Œ ä¸€å…±è¦å¡«tarä¸ªå‘</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> pos, <span class="type">int</span> start, <span class="type">int</span> tar)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (pos == tar + <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= tar; i ++ ) cout &lt;&lt; a[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é€‰æ•°å¡«å‘ï¼Œé€‰æ‹©çš„æ•°èŒƒå›´æ˜¯startï½n</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = start; i &lt;= n; i ++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!vis[i]) &#123;</span><br><span class="line">            vis[i] = <span class="literal">true</span>; a[pos] = i;</span><br><span class="line">                <span class="built_in">dfs</span> (pos + <span class="number">1</span>, i + <span class="number">1</span>, tar);</span><br><span class="line">            vis[i] = <span class="literal">false</span>;</span><br><span class="line">     &#125;	&#125;	&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i ++ )	<span class="built_in">dfs</span>(<span class="number">1</span>, <span class="number">1</span>, i);</span><br></pre></td></tr></table></figure>

<img src="C:\Users\86188\AppData\Roaming\Typora\typora-user-images\image-20220201100836257.png" alt="image-20220201100836257" style="zoom: 67%;" />

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span>#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span>#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span>#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> x first	#<span class="keyword">define</span> y second	using namespace std;</span></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; PII;	<span class="type">const</span> <span class="type">int</span> N = <span class="number">55</span>; <span class="comment">//acwingå¥¶ç‰›é€‰ç¾</span></span><br><span class="line"><span class="type">int</span> n, m;	<span class="type">char</span> g[N][N];	vector&lt;PII&gt; points[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>&#125;, dy[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>&#125;;<span class="comment">//è®°ä½è¿™ç§</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, vector&lt;PII&gt;&amp; ps)</span></span></span><br><span class="line"><span class="function"></span>&#123;	g[x][y] = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">    ps.<span class="built_in">push_back</span>(&#123;x, y&#125;);<span class="comment">//è¿™æ ·æ”¾ç½®</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i ++ )&#123;</span><br><span class="line">        <span class="type">int</span> a = x + dx[i], b = y + dy[i];</span><br><span class="line">        <span class="keyword">if</span> (a &gt;= <span class="number">0</span> &amp;&amp; a &lt; n &amp;&amp; b &gt;= <span class="number">0</span> &amp;&amp; b &lt; m &amp;&amp; g[a][b] == <span class="string">&#x27;X&#x27;</span>)<span class="comment">//</span></span><br><span class="line">            <span class="built_in">dfs</span>(a, b, ps);<span class="comment">//</span></span><br><span class="line">&#125;	&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;	cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++ ) cin &gt;&gt; g[i];<span class="comment">//è¾“å…¥</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>, k = <span class="number">0</span>; i &lt; n; i ++ )</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; j ++ )</span><br><span class="line">            <span class="keyword">if</span> (g[i][j] == <span class="string">&#x27;X&#x27;</span>)</span><br><span class="line">                <span class="built_in">dfs</span>(i, j, points[k ++ ]);<span class="comment">//æ±‚è¿é€šå—çš„ç²¾å¦™ä¹‹å¤„ï¼Œåœ¨dfsä¸­æ—©å·²å¤„ç†å¥½äº†è¿™å—</span></span><br><span class="line">                </span><br><span class="line">    <span class="type">int</span> res = <span class="number">1e8</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; a: points[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; b: points[<span class="number">1</span>])</span><br><span class="line">            res = <span class="built_in">min</span>(res, <span class="built_in">abs</span>(a.x - b.x) + <span class="built_in">abs</span>(a.y - b.y) - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;&#125;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/1404/">æ˜Ÿç©ºä¹‹å¤œğŸ”—</a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">char</span> g[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"><span class="type">int</span> m, n;	<span class="type">int</span> top;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> eps = <span class="number">1e-6</span>;	pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; q[<span class="number">105</span> * <span class="number">105</span>];</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">double</span> <span class="title">dis</span><span class="params">(pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; a, pair&lt;<span class="type">int</span>, <span class="type">int</span>&gt; b)</span> </span>&#123;</span><br><span class="line">	<span class="type">double</span> dx = a.first - b.first;</span><br><span class="line">	<span class="type">double</span> dy = a.second - b.second;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">sqrt</span>(dx * dx + dy * dy);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">get_sum</span><span class="params">()</span> </span>&#123;<span class="comment">//åˆ©ç”¨ä¸¤ä¸¤ä¹‹é—´çš„è·ç¦»hashæ˜ å°„</span></span><br><span class="line">	<span class="type">double</span> sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; top; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; top; ++j) &#123;</span><br><span class="line">			sum += <span class="built_in">dis</span>(q[i], q[j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">char</span> <span class="title">get_tu</span><span class="params">(<span class="type">double</span> key)</span> </span>&#123;</span><br><span class="line">	<span class="type">static</span> <span class="type">double</span> tu[<span class="number">30</span>];</span><br><span class="line">	<span class="type">static</span> <span class="type">int</span> id = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; id; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">fabs</span>(tu[i] - key) &lt; eps)</span><br><span class="line">			<span class="keyword">return</span> i + <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	tu[id++] = key;</span><br><span class="line">	<span class="keyword">return</span> id + <span class="string">&#x27;a&#x27;</span> - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">	q[top++] = &#123;x, y&#125;;</span><br><span class="line">	g[x][y] = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = x - <span class="number">1</span>; i &lt;= x + <span class="number">1</span>; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = y - <span class="number">1</span>; j &lt;= y + <span class="number">1</span>; ++j) &#123;</span><br><span class="line">			<span class="keyword">if</span> (i == x &amp;&amp; j == y)</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">if</span> (i &gt;= <span class="number">0</span> &amp;&amp; i &lt; n &amp;&amp; j &gt;= <span class="number">0</span> &amp;&amp; j &lt; m &amp;&amp; g[i][j] == <span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">				<span class="built_in">dfs</span>(i, j);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	IOS</span><br><span class="line">	cin &gt;&gt; m &gt;&gt; n;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">		cin &gt;&gt; g[i];</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; m; ++j) &#123;<span class="comment">//è¿é€šå—</span></span><br><span class="line">			<span class="keyword">if</span> (g[i][j] == <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">				top = <span class="number">0</span>;</span><br><span class="line">				<span class="built_in">dfs</span>(i, j);</span><br><span class="line">				<span class="type">char</span> c = <span class="built_in">get_tu</span>(<span class="built_in">get_sum</span>());</span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; top; ++k) &#123;</span><br><span class="line">					g[q[k].first][q[k].second] = c;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">		cout &lt;&lt; g[i] &lt;&lt; endl;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/DFS/" data-id="clnx7gbvm0003m4u2dqsfg496" data-title="dfs" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-å…³äºé¢˜ç›®" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/undefined/%E5%85%B3%E4%BA%8E%E9%A2%98%E7%9B%AE/" class="article-date">
  <time class="dt-published" datetime="2020-08-08T16:00:00.000Z" itemprop="datePublished">2020-08-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/undefined/%E5%85%B3%E4%BA%8E%E9%A2%98%E7%9B%AE/">åˆ·é¢˜1</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>å°çº¢å’Œç´«å‡†å¤‡ç©ä¸€ä¸ªæ¸¸æˆã€‚å¥¹ä»¬æ‹¿åˆ°äº†ä¸€ä¸ªåªåŒ…å«å°å†™å­—æ¯çš„å­—ç¬¦ä¸² sã€‚ä¸¤äººè½®æµå°†ä¸€ä¸ªå°å†™å­—æ¯æ·»åŠ åˆ°ä¸€ä¸ªæ–°ä¸²tçš„ç»“å°¾ï¼Œå¿…é¡»ä¿è¯tæ—¶åˆ»éƒ½æ˜¯sçš„ä¸€ä¸ªå­åºåˆ—ã€‚è°å…ˆæ— æ³•æ“ä½œåˆ™è¾“æ‰æ¸¸æˆã€‚tåˆå§‹æ˜¯ä¸€ä¸ªç©ºä¸²ã€‚å°çº¢å…ˆæ‰‹æ·»åŠ ï¼Œå‡è®¾ä¸¤äººéƒ½è¶³å¤Ÿèªæ˜ï¼Œè¯·é—®è°æœ€ç»ˆèƒ½è·å¾—èƒœåˆ©ï¼Ÿ <a target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/28335/E">ğŸ”—</a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">	<span class="type">int</span> i,j=s.<span class="built_in">length</span>()<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=j<span class="number">-1</span>;i &gt;= <span class="number">0</span>;i--)&#123;<span class="comment">//æ³¨æ„iå¤§äºç­‰äº0</span></span><br><span class="line">        <span class="keyword">if</span>(s[i]==s[j])j=i<span class="number">-1</span>,i=j;	&#125;</span><br><span class="line">    <span class="keyword">if</span>(j==<span class="number">-1</span>)cout&lt;&lt;<span class="string">&quot;yukari&quot;</span>;</span><br><span class="line">    <span class="keyword">else</span> cout&lt;&lt;<span class="string">&quot;kou&quot;</span>;</span><br><span class="line">æœ€åä¸€ä¸ª<span class="string">&#x27;b&#x27;</span>ï¼Œè°çš„ t ä¸²æ·»åŠ åˆ°è¿™é‡Œè°å°±èµ¢äº†ã€‚é‚£ä¹ˆå­—ç¬¦ä¸²æ ‡è®°ä¸ºafnabasfoa[b]afnabasfoa[b]ã€‚å…¶ä¸­ä¸­æ‹¬å·ä¸ºå¿…èƒœåŒºé—´ã€‚</span><br><span class="line"><span class="comment">//ab cabc å–äº†bï¼Œæ— è®ºé€‰cabä¸­çš„è°éƒ½æ²¡åŠæ³•ç»“æŸ   æ˜¯è¦èµ¢åªèƒ½é€‰é‚£ä¸ªå¿…èƒœåŒºé—´ï¼Œå¦åˆ™æ ¹æœ¬æ²¡æ³•</span></span><br><span class="line">é‚£ä¹ˆï¼Œè¿™ä¸ª b åˆ°ä¸Šä¸€ä¸ª b ä¹‹é—´æ‰€æœ‰çš„å­—æ¯éƒ½æ˜¯å¿…è´¥çš„ã€‚å› ä¸ºå¦‚æœæŸäººâ€œä¸å°å¿ƒâ€å–åˆ°äº†è¿™äº›å­—æ¯ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œå¯¹æ–¹åªè¦åœ¨åé¢åŠ ä¸€ä¸ª <span class="string">&#x27;b&#x27;</span> ï¼Œå°±ç›´æ¥åˆ°äº†æœ€åä¸€ä¸ª b äº†ã€‚</span><br><span class="line"></span><br><span class="line">å› æ­¤ï¼Œç¬¬äº”ä¸ªå­—æ¯ <span class="string">&#x27;b&#x27;</span> åé¢è¿™äº›å­—æ¯éƒ½æ˜¯å¿…è´¥çš„ã€‚å­—ç¬¦ä¸²æ ‡è®°ä¸º <span class="built_in">afna</span>(basfoa)[b]<span class="built_in">afna</span>(basfoa)[b]ã€‚å…¶ä¸­å°æ‹¬å·ä¸ºå¿…è´¥åŒºé—´ã€‚</span><br><span class="line"></span><br><span class="line">é‚£ä¹ˆç¬¬å››ä¸ªå­—æ¯<span class="string">&#x27;a&#x27;</span>å°±æ˜¯å¿…èƒœçš„ï¼Œå› ä¸ºåªè¦æŸäººå–åˆ°äº†è¿™ä¸ª a ï¼Œå¯¹æ–¹å°±ä¸å¾—ä¸å–åé¢çš„å°æ‹¬å·åŒºé—´çš„æŸä¸ªå­—æ¯ï¼Œå¯¼è‡´å¤±è´¥ã€‚</span><br><span class="line"></span><br><span class="line">ä»¥æ­¤ç±»æ¨ï¼Œå­—ç¬¦ä¸²å¯ä»¥æ ‡è®°ä¸º (afn)[a](basfoa)[b](afn)[a](basfoa)[b]ã€‚æ ‡è®°çš„é€»è¾‘æ˜¯ï¼šæœ€åä¸€ä¸ªå­—æ¯ chrchr ä¸ºå¿…èƒœï¼Œé‚£ä¹ˆæ‰¾åˆ°å®ƒå‰é¢ç¦»å®ƒæœ€è¿‘çš„é‚£ä¸ª chrchr ï¼Œè¿™æ®µåŒºé—´ä¸ºå¿…è´¥ã€‚å¿…è´¥åŒºé—´å‰é¢çš„é‚£ä¸ªå­—æ¯ä¸ºå¿…èƒœï¼Œä»¥æ­¤ç±»æ¨ï¼Œæ ‡è®°å‡ºæ‰€æœ‰åŒºé—´ã€‚</span><br><span class="line"></span><br><span class="line">é‚£ä¹ˆæ€ä¹ˆè¯„å®šèƒœè´Ÿçš„æ ‡å‡†å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œè‹¥ç¬¬ä¸€ä¸ªå­—æ¯åœ¨å¿…è´¥åŒºé—´ï¼Œé‚£ä¹ˆå°çº¢å¿…è´¥ã€‚å¦åˆ™å°çº¢å¿…èƒœï¼Œå› ä¸ºå°çº¢å¯ä»¥ç›´æ¥å–åˆ°ç¬¬ä¸€ä¸ªå¿…è´¥åŒºé—´å‰é¢çš„é‚£ä¸€ä¸ªå­—æ¯ï¼Œè¿«ä½¿ç´«må»å–å¿…è´¥åŒºé—´ã€‚</span><br><span class="line">    </span><br><span class="line">å¦‚æœè¦æ±‚æ¯æ¬¡æ·»åŠ çš„æ—¶å€™téƒ½æ˜¯sçš„å­ä¸²ï¼Œè§£æ³•æ˜¯åç¼€è‡ªåŠ¨æœºnextæŒ‡é’ˆdagå›¾ä¸Šæ±‚sgå‡½æ•°</span><br></pre></td></tr></table></figure>

<p>ç‚¸é¸¡å—å›å’ŒåŒå­¦ä»¬ä¸€å…±nä¸ªäººå»å­¦æ ¡é™„è¿‘ç©è€ï¼Œå…ˆè®©mä¸ªäººå¸¦æ ¡å›­å¡è¿›å…¥å­¦æ ¡ï¼Œå†æ´¾ä¸€ä¸ªäººå¸¦ç€æ‰€æœ‰må¼ æ ¡å›­å¡å‡ºæ¥ï¼Œé‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°æ‰€æœ‰äººè¿›å…¥å­¦æ ¡ã€‚ </p>
<p>  å‡è®¾ä»å¤–é¢è¿›å…¥å­¦æ ¡å’Œä»æ ¡å†…å‡ºæ¥åˆ°æ ¡å¤–éƒ½éœ€è¦èŠ±è´¹ä¸€ä¸ªå•ä½çš„æ—¶é—´ï¼Œæ±‚æ‰€æœ‰äººéƒ½è¿›å…¥å­¦æ ¡æœ€å°‘éœ€è¦èŠ±è´¹å‡ ä¸ªå•ä½çš„æ—¶é—´ã€‚<a target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/23106/E">ğŸ”—</a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">		<span class="keyword">if</span>(n &gt; <span class="number">1</span> &amp;&amp; m == <span class="number">1</span>) &#123;</span><br><span class="line">            cout &lt;&lt; <span class="number">-1</span> &lt;&lt; endl;</span><br><span class="line">                <span class="keyword">continue</span>;	&#125;</span><br><span class="line">        <span class="keyword">if</span>(n &lt;= m)&#123;</span><br><span class="line">            cout &lt;&lt; <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">continue</span>;	&#125;</span><br><span class="line">        ans = <span class="built_in">ceil</span>(((<span class="type">double</span>)(n - <span class="number">1</span>)) / (m<span class="number">-1</span>));<span class="comment">//ä¹‹æ‰€ä»¥ä¸æ˜¯n/m-1 ä¾‹å¦‚5 2 =&gt; 7 //å¿…é¡»å¾€å¤§äº†çš„å»å–æ•´ï¼Œæ—¶é—´æ¯•ç«Ÿæ˜¯ä¸ªæ•´æ•°ï¼Œå…·ä½“è¿˜æ˜¯çœ‹è¦æ±‚</span></span><br><span class="line">        cout &lt;&lt; ans * <span class="number">2</span> - <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">å°±å»ç¡¬æ¨¡æ‹Ÿï¼Œä¸å¯¹ä¸€å®šæœ‰ä¸å¯¹çš„åœ°æ–¹ï¼Œå…ˆæ”¹llï¼Œ å¥‡æ•°å¥‡æ•° å¥‡æ•°å¶æ•° å¶æ•°å¥‡æ•° å¥‡æ•°å¶æ•° è¿™æ ·å»è¯•</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/1764/">é€†æ´—ç‰ŒğŸ”—</a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">	cin &gt;&gt; tem;		mp[tem] = i;	&#125;<span class="comment">//</span></span><br><span class="line">string temp;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) 	cin &gt;&gt; s[i];			</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) 	t[mp[mp[mp[i]]]] = s[i];<span class="comment">//</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)	cout &lt;&lt; t[i] &lt;&lt; endl;</span><br></pre></td></tr></table></figure>

<h2 id="ä¸€å®šè¦æŠ½è±¡é—®é¢˜ï¼ï¼ï¼"><a href="#ä¸€å®šè¦æŠ½è±¡é—®é¢˜ï¼ï¼ï¼" class="headerlink" title="ä¸€å®šè¦æŠ½è±¡é—®é¢˜ï¼ï¼ï¼"></a>ä¸€å®šè¦æŠ½è±¡é—®é¢˜ï¼ï¼ï¼</h2><p>çŠ¶å‹dp: <a target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/11230/F">https://ac.nowcoder.com/acm/contest/11230/F</a></p>
<p>è´ªå¿ƒï¼š <a target="_blank" rel="noopener" href="https://ac.nowcoder.com/acm/contest/11230/E">https://ac.nowcoder.com/acm/contest/11230/E</a></p>
<p>å®šç†ï¼šå½“ä¸”ä»…å½“ä¸€ä¸ªæ•°ç»„a1,a2,â€¦,anæ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªçº¦æŸæ¡ä»¶æ—¶ï¼Œå®ƒå¯ä»¥é€šè¿‡ä¸€è¿ä¸²çš„æ“ä½œè¢«å®Œå…¨åˆ é™¤ã€‚</p>
<p>næ˜¯å¶æ•°</p>
<p>æ•°ç»„ä¸­ä»»ä½•å…ƒç´ çš„æœ€å¤§é¢‘ç‡æœ€å¤šä¸ºn&#x2F;2ã€‚</p>
<p>æœ¬é¢˜éœ€è¦å–æ¨¡ï¼Œè€ŒæœŸæœ›å€¼å¹¶ä¸ä¸€å®šæ˜¯æ•´æ•°ï¼Œæ‰€ä»¥è¦ç”¨åˆ°é€†å…ƒå’Œå¿«é€Ÿå¹‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/undefined/%E5%85%B3%E4%BA%8E%E9%A2%98%E7%9B%AE/" data-id="clnx7gbvv000hm4u2g92k42jb" data-title="åˆ·é¢˜1" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">September 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/undefined/pj1/">é¡¹ç›®é¢è¯•1</a>
          </li>
        
          <li>
            <a href="/undefined/faceReady/">é¢è¯•å‡†å¤‡</a>
          </li>
        
          <li>
            <a href="/undefined/vue3.2%E5%90%8E%E5%8F%B0%E7%AE%A1%E7%90%86%E5%BF%83%E5%BE%97/">vue3åå°ç®¡ç†ç³»ç»Ÿ</a>
          </li>
        
          <li>
            <a href="/undefined/vue%E9%A1%B9%E7%9B%AE%E5%88%9B%E5%BB%BA%E8%BF%87%E7%A8%8B/">vueé¡¹ç›®çš„åˆ›å»ºè¿‡ç¨‹</a>
          </li>
        
          <li>
            <a href="/undefined/joisc2014/">2882. ã€ŒJOISC 2014 Day4ã€ä¸¤ä¸ªäººçš„æ˜Ÿåº§</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 æ¡‰å¿µ<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>